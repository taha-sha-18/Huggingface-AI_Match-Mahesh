{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":51,"index":51}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":120},"end":{"line":3,"column":72,"index":192}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../src/stores/authStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":193},"end":{"line":4,"column":55,"index":248}}],"key":"4Zrq+eVZDVCUFPG0gA0lbQSGcbY=","exportNames":["*"],"imports":1}},{"name":"../src/utils/analytics","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":249},"end":{"line":5,"column":55,"index":304}}],"key":"x12VbMfHCIN2dheddj4WFI/H38g=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/_layout.tsx\",\n    _s = $RefreshSig$(); // Routes that don't require authentication\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return RootLayout;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[2], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[3], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _expoRouter = require(_dependencyMap[4], \"expo-router\");\n  var _srcStoresAuthStore = require(_dependencyMap[5], \"../src/stores/authStore\");\n  var _srcUtilsAnalytics = require(_dependencyMap[6], \"../src/utils/analytics\");\n  var _reactJsxDevRuntime = require(_dependencyMap[7], \"react/jsx-dev-runtime\");\n  const PUBLIC_ROUTES = ['debug', 'auth'];\n  function RootLayout() {\n    _s();\n    const {\n      isLoading,\n      isAuthenticated,\n      loadUser\n    } = (0, _srcStoresAuthStore.useAuthStore)();\n    const router = (0, _expoRouter.useRouter)();\n    const segments = (0, _expoRouter.useSegments)();\n    const pathname = (0, _expoRouter.usePathname)();\n    const [initialLoadDone, setInitialLoadDone] = (0, _react.useState)(false);\n    (0, _react.useEffect)(() => {\n      loadUser().finally(() => setInitialLoadDone(true));\n      // Initialize analytics on app start\n      (0, _srcUtilsAnalytics.initAnalytics)();\n    }, []);\n    (0, _react.useEffect)(() => {\n      if (!initialLoadDone) return;\n\n      // Get the first segment of the path\n      const firstSegment = segments[0];\n\n      // Check if current route is public\n      const isPublicRoute = PUBLIC_ROUTES.includes(firstSegment);\n\n      // Don't redirect if on a public route\n      if (isPublicRoute) return;\n\n      // Only redirect from index/root\n      if (!isAuthenticated && (pathname === '/' || !firstSegment)) {\n        router.replace('/auth/welcome');\n      }\n    }, [initialLoadDone, isAuthenticated, segments, pathname]);\n    if (isLoading || !initialLoadDone) {\n      return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n        style: styles.loading,\n        children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n          size: \"large\",\n          color: \"#6366F1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }, this);\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Slot, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 10\n    }, this);\n  }\n  _s(RootLayout, \"9a4DZwP9NFrbYWfz10nHucgj5RM=\", false, function () {\n    return [_srcStoresAuthStore.useAuthStore, _expoRouter.useRouter, _expoRouter.useSegments, _expoRouter.usePathname];\n  });\n  _c = RootLayout;\n  const styles = StyleSheet.default.create({\n    loading: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#000'\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"RootLayout\");\n});","lineCount":102,"map":[[5,25,7,0],[6,2,7,0,"Object"],[6,8,7,0],[6,9,7,0,"defineProperty"],[6,23,7,0],[6,24,7,0,"exports"],[6,31,7,0],[7,4,7,0,"value"],[7,9,7,0],[8,2,7,0],[9,2,7,0],[9,11,7,0,"_interopDefault"],[9,27,7,0,"e"],[9,28,7,0],[10,4,7,0],[10,11,7,0,"e"],[10,12,7,0],[10,16,7,0,"e"],[10,17,7,0],[10,18,7,0,"__esModule"],[10,28,7,0],[10,31,7,0,"e"],[10,32,7,0],[11,6,7,0,"default"],[11,13,7,0],[11,15,7,0,"e"],[12,4,7,0],[13,2,7,0],[14,2,10,15,"Object"],[14,8,10,15],[14,9,10,15,"defineProperty"],[14,23,10,15],[14,24,10,15,"exports"],[14,31,10,15],[15,4,10,15,"enumerable"],[15,14,10,15],[16,4,10,15,"get"],[16,7,10,15],[16,18,10,15,"get"],[16,19,10,15],[17,6,10,15],[17,13,10,15,"RootLayout"],[17,23,10,15],[18,4,10,15],[19,2,10,15],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,1,51],[21,6,1,51,"_reactNativeWebDistExportsView"],[21,36,1,51],[21,39,1,51,"require"],[21,46,1,51],[21,47,1,51,"_dependencyMap"],[21,61,1,51],[22,2,1,51],[22,6,1,51,"View"],[22,10,1,51],[22,13,1,51,"_interopDefault"],[22,28,1,51],[22,29,1,51,"_reactNativeWebDistExportsView"],[22,59,1,51],[23,2,1,51],[23,6,1,51,"_reactNativeWebDistExportsActivityIndicator"],[23,49,1,51],[23,52,1,51,"require"],[23,59,1,51],[23,60,1,51,"_dependencyMap"],[23,74,1,51],[24,2,1,51],[24,6,1,51,"ActivityIndicator"],[24,23,1,51],[24,26,1,51,"_interopDefault"],[24,41,1,51],[24,42,1,51,"_reactNativeWebDistExportsActivityIndicator"],[24,85,1,51],[25,2,1,51],[25,6,1,51,"_reactNativeWebDistExportsStyleSheet"],[25,42,1,51],[25,45,1,51,"require"],[25,52,1,51],[25,53,1,51,"_dependencyMap"],[25,67,1,51],[26,2,1,51],[26,6,1,51,"StyleSheet"],[26,16,1,51],[26,19,1,51,"_interopDefault"],[26,34,1,51],[26,35,1,51,"_reactNativeWebDistExportsStyleSheet"],[26,71,1,51],[27,2,3,0],[27,6,3,0,"_expoRouter"],[27,17,3,0],[27,20,3,0,"require"],[27,27,3,0],[27,28,3,0,"_dependencyMap"],[27,42,3,0],[28,2,4,0],[28,6,4,0,"_srcStoresAuthStore"],[28,25,4,0],[28,28,4,0,"require"],[28,35,4,0],[28,36,4,0,"_dependencyMap"],[28,50,4,0],[29,2,5,0],[29,6,5,0,"_srcUtilsAnalytics"],[29,24,5,0],[29,27,5,0,"require"],[29,34,5,0],[29,35,5,0,"_dependencyMap"],[29,49,5,0],[30,2,5,55],[30,6,5,55,"_reactJsxDevRuntime"],[30,25,5,55],[30,28,5,55,"require"],[30,35,5,55],[30,36,5,55,"_dependencyMap"],[30,50,5,55],[31,2,8,0],[31,8,8,6,"PUBLIC_ROUTES"],[31,21,8,19],[31,24,8,22],[31,25,8,23],[31,32,8,30],[31,34,8,32],[31,40,8,38],[31,41,8,39],[32,2,10,15],[32,11,10,24,"RootLayout"],[32,21,10,34,"RootLayout"],[32,22,10,34],[32,24,10,37],[33,4,10,37,"_s"],[33,6,10,37],[34,4,11,2],[34,10,11,8],[35,6,11,10,"isLoading"],[35,15,11,19],[36,6,11,21,"isAuthenticated"],[36,21,11,36],[37,6,11,38,"loadUser"],[38,4,11,47],[38,5,11,48],[38,8,11,51],[38,12,11,51,"useAuthStore"],[38,31,11,63],[38,32,11,63,"useAuthStore"],[38,44,11,63],[38,46,11,64],[38,47,11,65],[39,4,12,2],[39,10,12,8,"router"],[39,16,12,14],[39,19,12,17],[39,23,12,17,"useRouter"],[39,34,12,26],[39,35,12,26,"useRouter"],[39,44,12,26],[39,46,12,27],[39,47,12,28],[40,4,13,2],[40,10,13,8,"segments"],[40,18,13,16],[40,21,13,19],[40,25,13,19,"useSegments"],[40,36,13,30],[40,37,13,30,"useSegments"],[40,48,13,30],[40,50,13,31],[40,51,13,32],[41,4,14,2],[41,10,14,8,"pathname"],[41,18,14,16],[41,21,14,19],[41,25,14,19,"usePathname"],[41,36,14,30],[41,37,14,30,"usePathname"],[41,48,14,30],[41,50,14,31],[41,51,14,32],[42,4,15,2],[42,10,15,8],[42,11,15,9,"initialLoadDone"],[42,26,15,24],[42,28,15,26,"setInitialLoadDone"],[42,46,15,44],[42,47,15,45],[42,50,15,48],[42,54,15,48,"useState"],[42,60,15,56],[42,61,15,56,"useState"],[42,69,15,56],[42,71,15,57],[42,76,15,62],[42,77,15,63],[43,4,17,2],[43,8,17,2,"useEffect"],[43,14,17,11],[43,15,17,11,"useEffect"],[43,24,17,11],[43,26,17,12],[43,32,17,18],[44,6,18,4,"loadUser"],[44,14,18,12],[44,15,18,13],[44,16,18,14],[44,17,18,15,"finally"],[44,24,18,22],[44,25,18,23],[44,31,18,29,"setInitialLoadDone"],[44,49,18,47],[44,50,18,48],[44,54,18,52],[44,55,18,53],[44,56,18,54],[45,6,19,4],[46,6,20,4],[46,10,20,4,"initAnalytics"],[46,28,20,17],[46,29,20,17,"initAnalytics"],[46,42,20,17],[46,44,20,18],[46,45,20,19],[47,4,21,2],[47,5,21,3],[47,7,21,5],[47,9,21,7],[47,10,21,8],[48,4,23,2],[48,8,23,2,"useEffect"],[48,14,23,11],[48,15,23,11,"useEffect"],[48,24,23,11],[48,26,23,12],[48,32,23,18],[49,6,24,4],[49,10,24,8],[49,11,24,9,"initialLoadDone"],[49,26,24,24],[49,28,24,26],[51,6,26,4],[52,6,27,4],[52,12,27,10,"firstSegment"],[52,24,27,22],[52,27,27,25,"segments"],[52,35,27,33],[52,36,27,34],[52,37,27,35],[52,38,27,36],[54,6,29,4],[55,6,30,4],[55,12,30,10,"isPublicRoute"],[55,25,30,23],[55,28,30,26,"PUBLIC_ROUTES"],[55,41,30,39],[55,42,30,40,"includes"],[55,50,30,48],[55,51,30,49,"firstSegment"],[55,63,30,71],[55,64,30,72],[57,6,32,4],[58,6,33,4],[58,10,33,8,"isPublicRoute"],[58,23,33,21],[58,25,33,23],[60,6,35,4],[61,6,36,4],[61,10,36,8],[61,11,36,9,"isAuthenticated"],[61,26,36,24],[61,31,36,29,"pathname"],[61,39,36,37],[61,44,36,42],[61,47,36,45],[61,51,36,49],[61,52,36,50,"firstSegment"],[61,64,36,62],[61,65,36,63],[61,67,36,65],[62,8,37,6,"router"],[62,14,37,12],[62,15,37,13,"replace"],[62,22,37,20],[62,23,37,21],[62,38,37,36],[62,39,37,37],[63,6,38,4],[64,4,39,2],[64,5,39,3],[64,7,39,5],[64,8,39,6,"initialLoadDone"],[64,23,39,21],[64,25,39,23,"isAuthenticated"],[64,40,39,38],[64,42,39,40,"segments"],[64,50,39,48],[64,52,39,50,"pathname"],[64,60,39,58],[64,61,39,59],[64,62,39,60],[65,4,41,2],[65,8,41,6,"isLoading"],[65,17,41,15],[65,21,41,19],[65,22,41,20,"initialLoadDone"],[65,37,41,35],[65,39,41,37],[66,6,42,4],[66,26,43,6],[66,30,43,6,"_reactJsxDevRuntime"],[66,49,43,6],[66,50,43,6,"jsxDEV"],[66,56,43,6],[66,58,43,7,"View"],[66,62,43,11],[66,63,43,11,"default"],[66,70,43,11],[67,8,43,12,"style"],[67,13,43,17],[67,15,43,19,"styles"],[67,21,43,25],[67,22,43,26,"loading"],[67,29,43,34],[68,8,43,34,"children"],[68,16,43,34],[68,31,44,8],[68,35,44,8,"_reactJsxDevRuntime"],[68,54,44,8],[68,55,44,8,"jsxDEV"],[68,61,44,8],[68,63,44,9,"ActivityIndicator"],[68,80,44,26],[68,81,44,26,"default"],[68,88,44,26],[69,10,44,27,"size"],[69,14,44,31],[69,16,44,32],[69,23,44,39],[70,10,44,40,"color"],[70,15,44,45],[70,17,44,46],[71,8,44,55],[72,10,44,55,"fileName"],[72,18,44,55],[72,20,44,55,"_jsxFileName"],[72,32,44,55],[73,10,44,55,"lineNumber"],[73,20,44,55],[74,10,44,55,"columnNumber"],[74,22,44,55],[75,8,44,55],[75,15,44,57],[76,6,44,58],[77,8,44,58,"fileName"],[77,16,44,58],[77,18,44,58,"_jsxFileName"],[77,30,44,58],[78,8,44,58,"lineNumber"],[78,18,44,58],[79,8,44,58,"columnNumber"],[79,20,44,58],[80,6,44,58],[80,13,45,12],[80,14,45,13],[81,4,47,2],[82,4,49,2],[82,24,49,9],[82,28,49,9,"_reactJsxDevRuntime"],[82,47,49,9],[82,48,49,9,"jsxDEV"],[82,54,49,9],[82,56,49,10,"_expoRouter"],[82,67,49,14],[82,68,49,14,"Slot"],[82,72,49,14],[83,6,49,14,"fileName"],[83,14,49,14],[83,16,49,14,"_jsxFileName"],[83,28,49,14],[84,6,49,14,"lineNumber"],[84,16,49,14],[85,6,49,14,"columnNumber"],[85,18,49,14],[86,4,49,14],[86,11,49,16],[86,12,49,17],[87,2,50,0],[88,2,50,1,"_s"],[88,4,50,1],[88,5,10,24,"RootLayout"],[88,15,10,34],[89,4,10,34],[89,12,11,51,"useAuthStore"],[89,31,11,63],[89,32,11,63,"useAuthStore"],[89,44,11,63],[89,46,12,17,"useRouter"],[89,57,12,26],[89,58,12,26,"useRouter"],[89,67,12,26],[89,69,13,19,"useSegments"],[89,80,13,30],[89,81,13,30,"useSegments"],[89,92,13,30],[89,94,14,19,"usePathname"],[89,105,14,30],[89,106,14,30,"usePathname"],[89,117,14,30],[90,2,14,30],[91,2,14,30,"_c"],[91,4,14,30],[91,7,10,24,"RootLayout"],[91,17,10,34],[92,2,52,0],[92,8,52,6,"styles"],[92,14,52,12],[92,17,52,15,"StyleSheet"],[92,27,52,25],[92,28,52,25,"default"],[92,35,52,25],[92,36,52,26,"create"],[92,42,52,32],[92,43,52,33],[93,4,53,2,"loading"],[93,11,53,9],[93,13,53,11],[94,6,54,4,"flex"],[94,10,54,8],[94,12,54,10],[94,13,54,11],[95,6,55,4,"justifyContent"],[95,20,55,18],[95,22,55,20],[95,30,55,28],[96,6,56,4,"alignItems"],[96,16,56,14],[96,18,56,16],[96,26,56,24],[97,6,57,4,"backgroundColor"],[97,21,57,19],[97,23,57,21],[98,4,58,2],[99,2,59,0],[99,3,59,1],[99,4,59,2],[100,2,59,3],[100,6,59,3,"_c"],[100,8,59,3],[101,2,59,3,"$RefreshReg$"],[101,14,59,3],[101,15,59,3,"_c"],[101,17,59,3],[102,0,59,3],[102,3]],"functionMap":{"names":["<global>","RootLayout","useEffect$argument_0","loadUser._finally$argument_0"],"mappings":"AAA;eCS;YCO;uBCC,8BD;GDG;YCE;GDgB;CDW"},"hasCjsExports":false},"type":"js/module"}]}