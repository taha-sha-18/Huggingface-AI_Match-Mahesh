{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":137},"end":{"line":4,"column":31,"index":168}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    isAuthenticated: false,\n    setUser: user => set({\n      user,\n      isAuthenticated: !!user\n    }),\n    setToken: async token => {\n      if (token) {\n        await AsyncStorage.default.setItem('auth_token', token);\n      } else {\n        await AsyncStorage.default.removeItem('auth_token');\n      }\n      set({\n        token\n      });\n    },\n    login: async (email, password) => {\n      try {\n        const response = await api.default.post('/api/auth/login', {\n          email,\n          password\n        });\n        const {\n          user,\n          token\n        } = response.data;\n        await get().setToken(token);\n        set({\n          user,\n          isAuthenticated: true\n        });\n        await AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    },\n    register: async (email, password, name) => {\n      try {\n        const response = await api.default.post('/api/auth/register', {\n          email,\n          password,\n          name\n        });\n        const {\n          user,\n          token\n        } = response.data;\n        await get().setToken(token);\n        set({\n          user,\n          isAuthenticated: true\n        });\n        await AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    },\n    logout: async () => {\n      try {\n        await api.default.post('/api/auth/logout');\n      } catch (error) {\n        console.error('Logout error:', error);\n      } finally {\n        await AsyncStorage.default.removeItem('auth_token');\n        await AsyncStorage.default.removeItem('user_data');\n        set({\n          user: null,\n          token: null,\n          isAuthenticated: false\n        });\n      }\n    },\n    loadUser: async () => {\n      try {\n        set({\n          isLoading: true\n        });\n        const token = await AsyncStorage.default.getItem('auth_token');\n        const userData = await AsyncStorage.default.getItem('user_data');\n        if (token && userData) {\n          set({\n            token,\n            user: JSON.parse(userData),\n            isAuthenticated: true\n          });\n          // Refresh user data from server\n          await get().refreshUser();\n        }\n      } catch (error) {\n        console.error('Load user error:', error);\n      } finally {\n        set({\n          isLoading: false\n        });\n      }\n    },\n    refreshUser: async () => {\n      try {\n        const response = await api.default.get('/api/auth/me');\n        const user = response.data;\n        set({\n          user,\n          isAuthenticated: true\n        });\n        await AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n      } catch (error) {\n        console.error('Refresh user error:', error);\n        // If refresh fails, logout\n        await get().logout();\n      }\n    }\n  }));\n});","lineCount":138,"map":[[12,2,20,0,"Object"],[12,8,20,0],[12,9,20,0,"defineProperty"],[12,23,20,0],[12,24,20,0,"exports"],[12,31,20,0],[13,4,20,0,"enumerable"],[13,14,20,0],[14,4,20,0,"get"],[14,7,20,0],[14,18,20,0,"get"],[14,19,20,0],[15,6,20,0],[15,13,20,0,"useAuthStore"],[15,25,20,0],[16,4,20,0],[17,2,20,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,4,0],[21,6,4,0,"_utilsApi"],[21,15,4,0],[21,18,4,0,"require"],[21,25,4,0],[21,26,4,0,"_dependencyMap"],[21,40,4,0],[22,2,4,0],[22,6,4,0,"api"],[22,9,4,0],[22,12,4,0,"_interopDefault"],[22,27,4,0],[22,28,4,0,"_utilsApi"],[22,37,4,0],[23,2,20,7],[23,8,20,13,"useAuthStore"],[23,20,20,25],[23,23,20,28],[23,27,20,28,"create"],[23,35,20,34],[23,36,20,34,"create"],[23,42,20,34],[23,44,20,46],[23,45,20,47,"set"],[23,48,20,50],[23,50,20,52,"get"],[23,53,20,55],[23,59,20,61],[24,4,21,2,"user"],[24,8,21,6],[24,10,21,8],[24,14,21,12],[25,4,22,2,"token"],[25,9,22,7],[25,11,22,9],[25,15,22,13],[26,4,23,2,"isLoading"],[26,13,23,11],[26,15,23,13],[26,19,23,17],[27,4,24,2,"isAuthenticated"],[27,19,24,17],[27,21,24,19],[27,26,24,24],[28,4,26,2,"setUser"],[28,11,26,9],[28,13,26,12,"user"],[28,17,26,16],[28,21,26,21,"set"],[28,24,26,24],[28,25,26,25],[29,6,26,27,"user"],[29,10,26,31],[30,6,26,33,"isAuthenticated"],[30,21,26,48],[30,23,26,50],[30,24,26,51],[30,25,26,52,"user"],[31,4,26,57],[31,5,26,58],[31,6,26,59],[32,4,28,2,"setToken"],[32,12,28,10],[32,14,28,12],[32,20,28,19,"token"],[32,25,28,24],[32,29,28,29],[33,6,29,4],[33,10,29,8,"token"],[33,15,29,13],[33,17,29,15],[34,8,30,6],[34,14,30,12,"AsyncStorage"],[34,26,30,24],[34,27,30,24,"default"],[34,34,30,24],[34,35,30,25,"setItem"],[34,42,30,32],[34,43,30,33],[34,55,30,45],[34,57,30,47,"token"],[34,62,30,52],[34,63,30,53],[35,6,31,4],[35,7,31,5],[35,13,31,11],[36,8,32,6],[36,14,32,12,"AsyncStorage"],[36,26,32,24],[36,27,32,24,"default"],[36,34,32,24],[36,35,32,25,"removeItem"],[36,45,32,35],[36,46,32,36],[36,58,32,48],[36,59,32,49],[37,6,33,4],[38,6,34,4,"set"],[38,9,34,7],[38,10,34,8],[39,8,34,10,"token"],[40,6,34,16],[40,7,34,17],[40,8,34,18],[41,4,35,2],[41,5,35,3],[42,4,37,2,"login"],[42,9,37,7],[42,11,37,9],[42,17,37,9,"login"],[42,18,37,16,"email"],[42,23,37,21],[42,25,37,23,"password"],[42,33,37,31],[42,38,37,36],[43,6,38,4],[43,10,38,8],[44,8,39,6],[44,14,39,12,"response"],[44,22,39,20],[44,25,39,23],[44,31,39,29,"api"],[44,34,39,32],[44,35,39,32,"default"],[44,42,39,32],[44,43,39,33,"post"],[44,47,39,37],[44,48,39,38],[44,65,39,55],[44,67,39,57],[45,10,39,59,"email"],[45,15,39,64],[46,10,39,66,"password"],[47,8,39,75],[47,9,39,76],[47,10,39,77],[48,8,40,6],[48,14,40,12],[49,10,40,14,"user"],[49,14,40,18],[50,10,40,20,"token"],[51,8,40,26],[51,9,40,27],[51,12,40,30,"response"],[51,20,40,38],[51,21,40,39,"data"],[51,25,40,43],[52,8,42,6],[52,14,42,12,"get"],[52,17,42,15],[52,18,42,16],[52,19,42,17],[52,20,42,18,"setToken"],[52,28,42,26],[52,29,42,27,"token"],[52,34,42,32],[52,35,42,33],[53,8,43,6,"set"],[53,11,43,9],[53,12,43,10],[54,10,43,12,"user"],[54,14,43,16],[55,10,43,18,"isAuthenticated"],[55,25,43,33],[55,27,43,35],[56,8,43,40],[56,9,43,41],[56,10,43,42],[57,8,44,6],[57,14,44,12,"AsyncStorage"],[57,26,44,24],[57,27,44,24,"default"],[57,34,44,24],[57,35,44,25,"setItem"],[57,42,44,32],[57,43,44,33],[57,54,44,44],[57,56,44,46,"JSON"],[57,60,44,50],[57,61,44,51,"stringify"],[57,70,44,60],[57,71,44,61,"user"],[57,75,44,65],[57,76,44,66],[57,77,44,67],[58,6,45,4],[58,7,45,5],[58,8,45,6],[58,15,45,13,"error"],[58,20,45,23],[58,22,45,25],[59,8,46,6],[59,14,46,12],[59,18,46,16,"Error"],[59,23,46,21],[59,24,46,22,"error"],[59,29,46,27],[59,30,46,28,"response"],[59,38,46,36],[59,40,46,38,"data"],[59,44,46,42],[59,46,46,44,"detail"],[59,52,46,50],[59,56,46,54],[59,70,46,68],[59,71,46,69],[60,6,47,4],[61,4,48,2],[61,5,48,3],[62,4,50,2,"register"],[62,12,50,10],[62,14,50,12],[62,20,50,12,"register"],[62,21,50,19,"email"],[62,26,50,24],[62,28,50,26,"password"],[62,36,50,34],[62,38,50,36,"name"],[62,42,50,40],[62,47,50,45],[63,6,51,4],[63,10,51,8],[64,8,52,6],[64,14,52,12,"response"],[64,22,52,20],[64,25,52,23],[64,31,52,29,"api"],[64,34,52,32],[64,35,52,32,"default"],[64,42,52,32],[64,43,52,33,"post"],[64,47,52,37],[64,48,52,38],[64,68,52,58],[64,70,52,60],[65,10,52,62,"email"],[65,15,52,67],[66,10,52,69,"password"],[66,18,52,77],[67,10,52,79,"name"],[68,8,52,84],[68,9,52,85],[68,10,52,86],[69,8,53,6],[69,14,53,12],[70,10,53,14,"user"],[70,14,53,18],[71,10,53,20,"token"],[72,8,53,26],[72,9,53,27],[72,12,53,30,"response"],[72,20,53,38],[72,21,53,39,"data"],[72,25,53,43],[73,8,55,6],[73,14,55,12,"get"],[73,17,55,15],[73,18,55,16],[73,19,55,17],[73,20,55,18,"setToken"],[73,28,55,26],[73,29,55,27,"token"],[73,34,55,32],[73,35,55,33],[74,8,56,6,"set"],[74,11,56,9],[74,12,56,10],[75,10,56,12,"user"],[75,14,56,16],[76,10,56,18,"isAuthenticated"],[76,25,56,33],[76,27,56,35],[77,8,56,40],[77,9,56,41],[77,10,56,42],[78,8,57,6],[78,14,57,12,"AsyncStorage"],[78,26,57,24],[78,27,57,24,"default"],[78,34,57,24],[78,35,57,25,"setItem"],[78,42,57,32],[78,43,57,33],[78,54,57,44],[78,56,57,46,"JSON"],[78,60,57,50],[78,61,57,51,"stringify"],[78,70,57,60],[78,71,57,61,"user"],[78,75,57,65],[78,76,57,66],[78,77,57,67],[79,6,58,4],[79,7,58,5],[79,8,58,6],[79,15,58,13,"error"],[79,20,58,23],[79,22,58,25],[80,8,59,6],[80,14,59,12],[80,18,59,16,"Error"],[80,23,59,21],[80,24,59,22,"error"],[80,29,59,27],[80,30,59,28,"response"],[80,38,59,36],[80,40,59,38,"data"],[80,44,59,42],[80,46,59,44,"detail"],[80,52,59,50],[80,56,59,54],[80,77,59,75],[80,78,59,76],[81,6,60,4],[82,4,61,2],[82,5,61,3],[83,4,63,2,"logout"],[83,10,63,8],[83,12,63,10],[83,18,63,10,"logout"],[83,19,63,10],[83,24,63,22],[84,6,64,4],[84,10,64,8],[85,8,65,6],[85,14,65,12,"api"],[85,17,65,15],[85,18,65,15,"default"],[85,25,65,15],[85,26,65,16,"post"],[85,30,65,20],[85,31,65,21],[85,49,65,39],[85,50,65,40],[86,6,66,4],[86,7,66,5],[86,8,66,6],[86,15,66,13,"error"],[86,20,66,18],[86,22,66,20],[87,8,67,6,"console"],[87,15,67,13],[87,16,67,14,"error"],[87,21,67,19],[87,22,67,20],[87,37,67,35],[87,39,67,37,"error"],[87,44,67,42],[87,45,67,43],[88,6,68,4],[88,7,68,5],[88,16,68,14],[89,8,69,6],[89,14,69,12,"AsyncStorage"],[89,26,69,24],[89,27,69,24,"default"],[89,34,69,24],[89,35,69,25,"removeItem"],[89,45,69,35],[89,46,69,36],[89,58,69,48],[89,59,69,49],[90,8,70,6],[90,14,70,12,"AsyncStorage"],[90,26,70,24],[90,27,70,24,"default"],[90,34,70,24],[90,35,70,25,"removeItem"],[90,45,70,35],[90,46,70,36],[90,57,70,47],[90,58,70,48],[91,8,71,6,"set"],[91,11,71,9],[91,12,71,10],[92,10,71,12,"user"],[92,14,71,16],[92,16,71,18],[92,20,71,22],[93,10,71,24,"token"],[93,15,71,29],[93,17,71,31],[93,21,71,35],[94,10,71,37,"isAuthenticated"],[94,25,71,52],[94,27,71,54],[95,8,71,60],[95,9,71,61],[95,10,71,62],[96,6,72,4],[97,4,73,2],[97,5,73,3],[98,4,75,2,"loadUser"],[98,12,75,10],[98,14,75,12],[98,20,75,12,"loadUser"],[98,21,75,12],[98,26,75,24],[99,6,76,4],[99,10,76,8],[100,8,77,6,"set"],[100,11,77,9],[100,12,77,10],[101,10,77,12,"isLoading"],[101,19,77,21],[101,21,77,23],[102,8,77,28],[102,9,77,29],[102,10,77,30],[103,8,78,6],[103,14,78,12,"token"],[103,19,78,17],[103,22,78,20],[103,28,78,26,"AsyncStorage"],[103,40,78,38],[103,41,78,38,"default"],[103,48,78,38],[103,49,78,39,"getItem"],[103,56,78,46],[103,57,78,47],[103,69,78,59],[103,70,78,60],[104,8,79,6],[104,14,79,12,"userData"],[104,22,79,20],[104,25,79,23],[104,31,79,29,"AsyncStorage"],[104,43,79,41],[104,44,79,41,"default"],[104,51,79,41],[104,52,79,42,"getItem"],[104,59,79,49],[104,60,79,50],[104,71,79,61],[104,72,79,62],[105,8,81,6],[105,12,81,10,"token"],[105,17,81,15],[105,21,81,19,"userData"],[105,29,81,27],[105,31,81,29],[106,10,82,8,"set"],[106,13,82,11],[106,14,82,12],[107,12,82,14,"token"],[107,17,82,19],[108,12,82,21,"user"],[108,16,82,25],[108,18,82,27,"JSON"],[108,22,82,31],[108,23,82,32,"parse"],[108,28,82,37],[108,29,82,38,"userData"],[108,37,82,46],[108,38,82,47],[109,12,82,49,"isAuthenticated"],[109,27,82,64],[109,29,82,66],[110,10,82,71],[110,11,82,72],[110,12,82,73],[111,10,83,8],[112,10,84,8],[112,16,84,14,"get"],[112,19,84,17],[112,20,84,18],[112,21,84,19],[112,22,84,20,"refreshUser"],[112,33,84,31],[112,34,84,32],[112,35,84,33],[113,8,85,6],[114,6,86,4],[114,7,86,5],[114,8,86,6],[114,15,86,13,"error"],[114,20,86,18],[114,22,86,20],[115,8,87,6,"console"],[115,15,87,13],[115,16,87,14,"error"],[115,21,87,19],[115,22,87,20],[115,40,87,38],[115,42,87,40,"error"],[115,47,87,45],[115,48,87,46],[116,6,88,4],[116,7,88,5],[116,16,88,14],[117,8,89,6,"set"],[117,11,89,9],[117,12,89,10],[118,10,89,12,"isLoading"],[118,19,89,21],[118,21,89,23],[119,8,89,29],[119,9,89,30],[119,10,89,31],[120,6,90,4],[121,4,91,2],[121,5,91,3],[122,4,93,2,"refreshUser"],[122,15,93,13],[122,17,93,15],[122,23,93,15,"refreshUser"],[122,24,93,15],[122,29,93,27],[123,6,94,4],[123,10,94,8],[124,8,95,6],[124,14,95,12,"response"],[124,22,95,20],[124,25,95,23],[124,31,95,29,"api"],[124,34,95,32],[124,35,95,32,"default"],[124,42,95,32],[124,43,95,33,"get"],[124,46,95,36],[124,47,95,37],[124,61,95,51],[124,62,95,52],[125,8,96,6],[125,14,96,12,"user"],[125,18,96,16],[125,21,96,19,"response"],[125,29,96,27],[125,30,96,28,"data"],[125,34,96,32],[126,8,97,6,"set"],[126,11,97,9],[126,12,97,10],[127,10,97,12,"user"],[127,14,97,16],[128,10,97,18,"isAuthenticated"],[128,25,97,33],[128,27,97,35],[129,8,97,40],[129,9,97,41],[129,10,97,42],[130,8,98,6],[130,14,98,12,"AsyncStorage"],[130,26,98,24],[130,27,98,24,"default"],[130,34,98,24],[130,35,98,25,"setItem"],[130,42,98,32],[130,43,98,33],[130,54,98,44],[130,56,98,46,"JSON"],[130,60,98,50],[130,61,98,51,"stringify"],[130,70,98,60],[130,71,98,61,"user"],[130,75,98,65],[130,76,98,66],[130,77,98,67],[131,6,99,4],[131,7,99,5],[131,8,99,6],[131,15,99,13,"error"],[131,20,99,18],[131,22,99,20],[132,8,100,6,"console"],[132,15,100,13],[132,16,100,14,"error"],[132,21,100,19],[132,22,100,20],[132,43,100,41],[132,45,100,43,"error"],[132,50,100,48],[132,51,100,49],[133,8,101,6],[134,8,102,6],[134,14,102,12,"get"],[134,17,102,15],[134,18,102,16],[134,19,102,17],[134,20,102,18,"logout"],[134,26,102,24],[134,27,102,25],[134,28,102,26],[135,6,103,4],[136,4,104,2],[137,2,105,0],[137,3,105,1],[137,4,105,2],[137,5,105,3],[138,0,105,4],[138,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","setToken","login","register","logout","loadUser","refreshUser"],"mappings":"AAA;8CCmB;WCM,gDD;YEE;GFO;SGE;GHW;YIE;GJW;UKE;GLU;YME;GNgB;eOE;GPW;EDC"},"hasCjsExports":false},"type":"js/module"}]}