{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":88},"end":{"line":3,"column":31,"index":119}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"../utils/analytics","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":69,"column":65,"index":2051},"end":{"line":69,"column":93,"index":2079}}],"key":"W7yxn0UH3pRIQdu6baN89tM5t34=","exportNames":["*"],"imports":1,"isOptional":true}},{"name":"expo/internal/async-require-module","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":69,"column":59,"index":2045},"end":{"line":69,"column":93,"index":2079}}],"key":"y8mhXL4zKvSVvgnacXXOn0UU+QQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useCommunityStore\", {\n    enumerable: true,\n    get: function () {\n      return useCommunityStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _utilsApi = require(_dependencyMap[1], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  const useCommunityStore = (0, _zustand.create)((set, get) => ({\n    communities: [],\n    matches: [],\n    myCommunities: [],\n    isLoading: false,\n    fetchCommunities: async () => {\n      try {\n        set({\n          isLoading: true\n        });\n        const response = await api.default.get('/api/communities');\n        set({\n          communities: response.data\n        });\n      } catch (error) {\n        console.error('Fetch communities error:', error);\n      } finally {\n        set({\n          isLoading: false\n        });\n      }\n    },\n    fetchMatches: async () => {\n      try {\n        set({\n          isLoading: true\n        });\n        const response = await api.default.get('/api/matches');\n        set({\n          matches: response.data\n        });\n      } catch (error) {\n        console.error('Fetch matches error:', error);\n        if (error.response?.status === 400) {\n          // User hasn't completed game yet\n          set({\n            matches: []\n          });\n        }\n      } finally {\n        set({\n          isLoading: false\n        });\n      }\n    },\n    fetchMyCommunities: async () => {\n      try {\n        const response = await api.default.get('/api/communities/my/joined');\n        set({\n          myCommunities: response.data\n        });\n      } catch (error) {\n        console.error('Fetch my communities error:', error);\n      }\n    },\n    joinCommunity: async communityId => {\n      try {\n        await api.default.post(`/api/communities/${communityId}/join`);\n        await get().fetchMyCommunities();\n        await get().fetchMatches();\n\n        // Track join as core action\n        const {\n          trackJoinCommunity,\n          trackFirstCoreAction\n        } = await require(_dependencyMap[3], \"expo/internal/async-require-module\")(_dependencyMap[2], _dependencyMap.paths, \"../utils/analytics\");\n        trackJoinCommunity(communityId);\n        trackFirstCoreAction('join_community', {\n          community_id: communityId\n        });\n      } catch (error) {\n        console.error('Join community error:', error);\n        throw error;\n      }\n    },\n    leaveCommunity: async communityId => {\n      try {\n        await api.default.post(`/api/communities/${communityId}/leave`);\n        await get().fetchMyCommunities();\n      } catch (error) {\n        console.error('Leave community error:', error);\n        throw error;\n      }\n    },\n    skipCommunity: async communityId => {\n      try {\n        await api.default.post(`/api/communities/${communityId}/skip`);\n        // Remove from matches\n        const matches = get().matches.filter(m => m.community_id !== communityId);\n        set({\n          matches\n        });\n      } catch (error) {\n        console.error('Skip community error:', error);\n      }\n    },\n    createCommunity: async data => {\n      try {\n        await api.default.post('/api/communities', data);\n        await get().fetchCommunities();\n        await get().fetchMyCommunities();\n      } catch (error) {\n        console.error('Create community error:', error);\n        throw error;\n      }\n    }\n  }));\n});","lineCount":128,"map":[[12,2,19,0,"Object"],[12,8,19,0],[12,9,19,0,"defineProperty"],[12,23,19,0],[12,24,19,0,"exports"],[12,31,19,0],[13,4,19,0,"enumerable"],[13,14,19,0],[14,4,19,0,"get"],[14,7,19,0],[14,18,19,0,"get"],[14,19,19,0],[15,6,19,0],[15,13,19,0,"useCommunityStore"],[15,30,19,0],[16,4,19,0],[17,2,19,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,3,0],[19,6,3,0,"_utilsApi"],[19,15,3,0],[19,18,3,0,"require"],[19,25,3,0],[19,26,3,0,"_dependencyMap"],[19,40,3,0],[20,2,3,0],[20,6,3,0,"api"],[20,9,3,0],[20,12,3,0,"_interopDefault"],[20,27,3,0],[20,28,3,0,"_utilsApi"],[20,37,3,0],[21,2,19,7],[21,8,19,13,"useCommunityStore"],[21,25,19,30],[21,28,19,33],[21,32,19,33,"create"],[21,40,19,39],[21,41,19,39,"create"],[21,47,19,39],[21,49,19,56],[21,50,19,57,"set"],[21,53,19,60],[21,55,19,62,"get"],[21,58,19,65],[21,64,19,71],[22,4,20,2,"communities"],[22,15,20,13],[22,17,20,15],[22,19,20,17],[23,4,21,2,"matches"],[23,11,21,9],[23,13,21,11],[23,15,21,13],[24,4,22,2,"myCommunities"],[24,17,22,15],[24,19,22,17],[24,21,22,19],[25,4,23,2,"isLoading"],[25,13,23,11],[25,15,23,13],[25,20,23,18],[26,4,25,2,"fetchCommunities"],[26,20,25,18],[26,22,25,20],[26,28,25,20,"fetchCommunities"],[26,29,25,20],[26,34,25,32],[27,6,26,4],[27,10,26,8],[28,8,27,6,"set"],[28,11,27,9],[28,12,27,10],[29,10,27,12,"isLoading"],[29,19,27,21],[29,21,27,23],[30,8,27,28],[30,9,27,29],[30,10,27,30],[31,8,28,6],[31,14,28,12,"response"],[31,22,28,20],[31,25,28,23],[31,31,28,29,"api"],[31,34,28,32],[31,35,28,32,"default"],[31,42,28,32],[31,43,28,33,"get"],[31,46,28,36],[31,47,28,37],[31,65,28,55],[31,66,28,56],[32,8,29,6,"set"],[32,11,29,9],[32,12,29,10],[33,10,29,12,"communities"],[33,21,29,23],[33,23,29,25,"response"],[33,31,29,33],[33,32,29,34,"data"],[34,8,29,39],[34,9,29,40],[34,10,29,41],[35,6,30,4],[35,7,30,5],[35,8,30,6],[35,15,30,13,"error"],[35,20,30,18],[35,22,30,20],[36,8,31,6,"console"],[36,15,31,13],[36,16,31,14,"error"],[36,21,31,19],[36,22,31,20],[36,48,31,46],[36,50,31,48,"error"],[36,55,31,53],[36,56,31,54],[37,6,32,4],[37,7,32,5],[37,16,32,14],[38,8,33,6,"set"],[38,11,33,9],[38,12,33,10],[39,10,33,12,"isLoading"],[39,19,33,21],[39,21,33,23],[40,8,33,29],[40,9,33,30],[40,10,33,31],[41,6,34,4],[42,4,35,2],[42,5,35,3],[43,4,37,2,"fetchMatches"],[43,16,37,14],[43,18,37,16],[43,24,37,16,"fetchMatches"],[43,25,37,16],[43,30,37,28],[44,6,38,4],[44,10,38,8],[45,8,39,6,"set"],[45,11,39,9],[45,12,39,10],[46,10,39,12,"isLoading"],[46,19,39,21],[46,21,39,23],[47,8,39,28],[47,9,39,29],[47,10,39,30],[48,8,40,6],[48,14,40,12,"response"],[48,22,40,20],[48,25,40,23],[48,31,40,29,"api"],[48,34,40,32],[48,35,40,32,"default"],[48,42,40,32],[48,43,40,33,"get"],[48,46,40,36],[48,47,40,37],[48,61,40,51],[48,62,40,52],[49,8,41,6,"set"],[49,11,41,9],[49,12,41,10],[50,10,41,12,"matches"],[50,17,41,19],[50,19,41,21,"response"],[50,27,41,29],[50,28,41,30,"data"],[51,8,41,35],[51,9,41,36],[51,10,41,37],[52,6,42,4],[52,7,42,5],[52,8,42,6],[52,15,42,13,"error"],[52,20,42,23],[52,22,42,25],[53,8,43,6,"console"],[53,15,43,13],[53,16,43,14,"error"],[53,21,43,19],[53,22,43,20],[53,44,43,42],[53,46,43,44,"error"],[53,51,43,49],[53,52,43,50],[54,8,44,6],[54,12,44,10,"error"],[54,17,44,15],[54,18,44,16,"response"],[54,26,44,24],[54,28,44,26,"status"],[54,34,44,32],[54,39,44,37],[54,42,44,40],[54,44,44,42],[55,10,45,8],[56,10,46,8,"set"],[56,13,46,11],[56,14,46,12],[57,12,46,14,"matches"],[57,19,46,21],[57,21,46,23],[58,10,46,26],[58,11,46,27],[58,12,46,28],[59,8,47,6],[60,6,48,4],[60,7,48,5],[60,16,48,14],[61,8,49,6,"set"],[61,11,49,9],[61,12,49,10],[62,10,49,12,"isLoading"],[62,19,49,21],[62,21,49,23],[63,8,49,29],[63,9,49,30],[63,10,49,31],[64,6,50,4],[65,4,51,2],[65,5,51,3],[66,4,53,2,"fetchMyCommunities"],[66,22,53,20],[66,24,53,22],[66,30,53,22,"fetchMyCommunities"],[66,31,53,22],[66,36,53,34],[67,6,54,4],[67,10,54,8],[68,8,55,6],[68,14,55,12,"response"],[68,22,55,20],[68,25,55,23],[68,31,55,29,"api"],[68,34,55,32],[68,35,55,32,"default"],[68,42,55,32],[68,43,55,33,"get"],[68,46,55,36],[68,47,55,37],[68,75,55,65],[68,76,55,66],[69,8,56,6,"set"],[69,11,56,9],[69,12,56,10],[70,10,56,12,"myCommunities"],[70,23,56,25],[70,25,56,27,"response"],[70,33,56,35],[70,34,56,36,"data"],[71,8,56,41],[71,9,56,42],[71,10,56,43],[72,6,57,4],[72,7,57,5],[72,8,57,6],[72,15,57,13,"error"],[72,20,57,18],[72,22,57,20],[73,8,58,6,"console"],[73,15,58,13],[73,16,58,14,"error"],[73,21,58,19],[73,22,58,20],[73,51,58,49],[73,53,58,51,"error"],[73,58,58,56],[73,59,58,57],[74,6,59,4],[75,4,60,2],[75,5,60,3],[76,4,62,2,"joinCommunity"],[76,17,62,15],[76,19,62,17],[76,25,62,24,"communityId"],[76,36,62,43],[76,40,62,48],[77,6,63,4],[77,10,63,8],[78,8,64,6],[78,14,64,12,"api"],[78,17,64,15],[78,18,64,15,"default"],[78,25,64,15],[78,26,64,16,"post"],[78,30,64,20],[78,31,64,21],[78,51,64,41,"communityId"],[78,62,64,52],[78,69,64,59],[78,70,64,60],[79,8,65,6],[79,14,65,12,"get"],[79,17,65,15],[79,18,65,16],[79,19,65,17],[79,20,65,18,"fetchMyCommunities"],[79,38,65,36],[79,39,65,37],[79,40,65,38],[80,8,66,6],[80,14,66,12,"get"],[80,17,66,15],[80,18,66,16],[80,19,66,17],[80,20,66,18,"fetchMatches"],[80,32,66,30],[80,33,66,31],[80,34,66,32],[82,8,68,6],[83,8,69,6],[83,14,69,12],[84,10,69,14,"trackJoinCommunity"],[84,28,69,32],[85,10,69,34,"trackFirstCoreAction"],[86,8,69,55],[86,9,69,56],[86,12,69,59],[86,18,69,59,"require"],[86,25,69,59],[86,26,69,59,"_dependencyMap"],[86,40,69,59],[86,83,69,59,"_dependencyMap"],[86,97,69,59],[86,102,69,59,"_dependencyMap"],[86,116,69,59],[86,117,69,59,"paths"],[86,122,69,59],[86,145,69,93],[87,8,70,6,"trackJoinCommunity"],[87,26,70,24],[87,27,70,25,"communityId"],[87,38,70,36],[87,39,70,37],[88,8,71,6,"trackFirstCoreAction"],[88,28,71,26],[88,29,71,27],[88,45,71,43],[88,47,71,45],[89,10,71,47,"community_id"],[89,22,71,59],[89,24,71,61,"communityId"],[90,8,71,73],[90,9,71,74],[90,10,71,75],[91,6,72,4],[91,7,72,5],[91,8,72,6],[91,15,72,13,"error"],[91,20,72,18],[91,22,72,20],[92,8,73,6,"console"],[92,15,73,13],[92,16,73,14,"error"],[92,21,73,19],[92,22,73,20],[92,45,73,43],[92,47,73,45,"error"],[92,52,73,50],[92,53,73,51],[93,8,74,6],[93,14,74,12,"error"],[93,19,74,17],[94,6,75,4],[95,4,76,2],[95,5,76,3],[96,4,78,2,"leaveCommunity"],[96,18,78,16],[96,20,78,18],[96,26,78,25,"communityId"],[96,37,78,44],[96,41,78,49],[97,6,79,4],[97,10,79,8],[98,8,80,6],[98,14,80,12,"api"],[98,17,80,15],[98,18,80,15,"default"],[98,25,80,15],[98,26,80,16,"post"],[98,30,80,20],[98,31,80,21],[98,51,80,41,"communityId"],[98,62,80,52],[98,70,80,60],[98,71,80,61],[99,8,81,6],[99,14,81,12,"get"],[99,17,81,15],[99,18,81,16],[99,19,81,17],[99,20,81,18,"fetchMyCommunities"],[99,38,81,36],[99,39,81,37],[99,40,81,38],[100,6,82,4],[100,7,82,5],[100,8,82,6],[100,15,82,13,"error"],[100,20,82,18],[100,22,82,20],[101,8,83,6,"console"],[101,15,83,13],[101,16,83,14,"error"],[101,21,83,19],[101,22,83,20],[101,46,83,44],[101,48,83,46,"error"],[101,53,83,51],[101,54,83,52],[102,8,84,6],[102,14,84,12,"error"],[102,19,84,17],[103,6,85,4],[104,4,86,2],[104,5,86,3],[105,4,88,2,"skipCommunity"],[105,17,88,15],[105,19,88,17],[105,25,88,24,"communityId"],[105,36,88,43],[105,40,88,48],[106,6,89,4],[106,10,89,8],[107,8,90,6],[107,14,90,12,"api"],[107,17,90,15],[107,18,90,15,"default"],[107,25,90,15],[107,26,90,16,"post"],[107,30,90,20],[107,31,90,21],[107,51,90,41,"communityId"],[107,62,90,52],[107,69,90,59],[107,70,90,60],[108,8,91,6],[109,8,92,6],[109,14,92,12,"matches"],[109,21,92,19],[109,24,92,22,"get"],[109,27,92,25],[109,28,92,26],[109,29,92,27],[109,30,92,28,"matches"],[109,37,92,35],[109,38,92,36,"filter"],[109,44,92,42],[109,45,92,43,"m"],[109,46,92,44],[109,50,92,48,"m"],[109,51,92,49],[109,52,92,50,"community_id"],[109,64,92,62],[109,69,92,67,"communityId"],[109,80,92,78],[109,81,92,79],[110,8,93,6,"set"],[110,11,93,9],[110,12,93,10],[111,10,93,12,"matches"],[112,8,93,20],[112,9,93,21],[112,10,93,22],[113,6,94,4],[113,7,94,5],[113,8,94,6],[113,15,94,13,"error"],[113,20,94,18],[113,22,94,20],[114,8,95,6,"console"],[114,15,95,13],[114,16,95,14,"error"],[114,21,95,19],[114,22,95,20],[114,45,95,43],[114,47,95,45,"error"],[114,52,95,50],[114,53,95,51],[115,6,96,4],[116,4,97,2],[116,5,97,3],[117,4,99,2,"createCommunity"],[117,19,99,17],[117,21,99,19],[117,27,99,26,"data"],[117,31,99,35],[117,35,99,40],[118,6,100,4],[118,10,100,8],[119,8,101,6],[119,14,101,12,"api"],[119,17,101,15],[119,18,101,15,"default"],[119,25,101,15],[119,26,101,16,"post"],[119,30,101,20],[119,31,101,21],[119,49,101,39],[119,51,101,41,"data"],[119,55,101,45],[119,56,101,46],[120,8,102,6],[120,14,102,12,"get"],[120,17,102,15],[120,18,102,16],[120,19,102,17],[120,20,102,18,"fetchCommunities"],[120,36,102,34],[120,37,102,35],[120,38,102,36],[121,8,103,6],[121,14,103,12,"get"],[121,17,103,15],[121,18,103,16],[121,19,103,17],[121,20,103,18,"fetchMyCommunities"],[121,38,103,36],[121,39,103,37],[121,40,103,38],[122,6,104,4],[122,7,104,5],[122,8,104,6],[122,15,104,13,"error"],[122,20,104,18],[122,22,104,20],[123,8,105,6,"console"],[123,15,105,13],[123,16,105,14,"error"],[123,21,105,19],[123,22,105,20],[123,47,105,45],[123,49,105,47,"error"],[123,54,105,52],[123,55,105,53],[124,8,106,6],[124,14,106,12,"error"],[124,19,106,17],[125,6,107,4],[126,4,108,2],[127,2,109,0],[127,3,109,1],[127,4,109,2],[127,5,109,3],[128,0,109,4],[128,3]],"functionMap":{"names":["<global>","create$argument_0","fetchCommunities","fetchMatches","fetchMyCommunities","joinCommunity","leaveCommunity","skipCommunity","get.matches.filter$argument_0","createCommunity"],"mappings":"AAA;wDCkB;oBCM;GDU;gBEE;GFc;sBGE;GHO;iBIE;GJc;kBKE;GLQ;iBME;2CCI,mCD;GNK;mBQE;GRS;EDC"},"hasCjsExports":false},"type":"js/module"}]}