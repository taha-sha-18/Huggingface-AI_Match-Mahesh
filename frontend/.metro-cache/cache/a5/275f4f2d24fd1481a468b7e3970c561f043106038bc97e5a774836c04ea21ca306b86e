{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":137},"end":{"line":4,"column":31,"index":168}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"../utils/analytics","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":60,"column":44,"index":1880},"end":{"line":60,"column":72,"index":1908}}],"key":"W7yxn0UH3pRIQdu6baN89tM5t34=","exportNames":["*"],"imports":1,"isOptional":true}},{"name":"expo/internal/async-require-module","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":60,"column":38,"index":1874},"end":{"line":60,"column":72,"index":1908}}],"key":"y8mhXL4zKvSVvgnacXXOn0UU+QQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    isAuthenticated: false,\n    setUser: user => set({\n      user,\n      isAuthenticated: !!user\n    }),\n    setToken: async token => {\n      if (token) {\n        await AsyncStorage.default.setItem('auth_token', token);\n      } else {\n        await AsyncStorage.default.removeItem('auth_token');\n      }\n      set({\n        token\n      });\n    },\n    login: async (email, password) => {\n      try {\n        const response = await api.default.post('/api/auth/login', {\n          email,\n          password\n        });\n        const {\n          user,\n          token\n        } = response.data;\n        await get().setToken(token);\n        set({\n          user,\n          isAuthenticated: true\n        });\n        await AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    },\n    register: async (email, password, name) => {\n      try {\n        const response = await api.default.post('/api/auth/register', {\n          email,\n          password,\n          name\n        });\n        const {\n          user,\n          token\n        } = response.data;\n        await get().setToken(token);\n        set({\n          user,\n          isAuthenticated: true\n        });\n        await AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n\n        // Track signup completion\n        const {\n          trackSignupComplete\n        } = await require(_dependencyMap[4], \"expo/internal/async-require-module\")(_dependencyMap[3], _dependencyMap.paths, \"../utils/analytics\");\n        trackSignupComplete(user.user_id);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    },\n    logout: async () => {\n      try {\n        await api.default.post('/api/auth/logout');\n      } catch (error) {\n        console.error('Logout error:', error);\n      } finally {\n        await AsyncStorage.default.removeItem('auth_token');\n        await AsyncStorage.default.removeItem('user_data');\n        set({\n          user: null,\n          token: null,\n          isAuthenticated: false\n        });\n      }\n    },\n    loadUser: async () => {\n      try {\n        set({\n          isLoading: true\n        });\n        const token = await AsyncStorage.default.getItem('auth_token');\n        const userData = await AsyncStorage.default.getItem('user_data');\n        if (token && userData) {\n          set({\n            token,\n            user: JSON.parse(userData),\n            isAuthenticated: true\n          });\n          // Refresh user data from server\n          await get().refreshUser();\n        }\n      } catch (error) {\n        console.error('Load user error:', error);\n      } finally {\n        set({\n          isLoading: false\n        });\n      }\n    },\n    refreshUser: async () => {\n      try {\n        const response = await api.default.get('/api/auth/me');\n        const user = response.data;\n        set({\n          user,\n          isAuthenticated: true\n        });\n        await AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n      } catch (error) {\n        console.error('Refresh user error:', error);\n        // If refresh fails, logout\n        await get().logout();\n      }\n    }\n  }));\n});","lineCount":144,"map":[[12,2,20,0,"Object"],[12,8,20,0],[12,9,20,0,"defineProperty"],[12,23,20,0],[12,24,20,0,"exports"],[12,31,20,0],[13,4,20,0,"enumerable"],[13,14,20,0],[14,4,20,0,"get"],[14,7,20,0],[14,18,20,0,"get"],[14,19,20,0],[15,6,20,0],[15,13,20,0,"useAuthStore"],[15,25,20,0],[16,4,20,0],[17,2,20,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,4,0],[21,6,4,0,"_utilsApi"],[21,15,4,0],[21,18,4,0,"require"],[21,25,4,0],[21,26,4,0,"_dependencyMap"],[21,40,4,0],[22,2,4,0],[22,6,4,0,"api"],[22,9,4,0],[22,12,4,0,"_interopDefault"],[22,27,4,0],[22,28,4,0,"_utilsApi"],[22,37,4,0],[23,2,20,7],[23,8,20,13,"useAuthStore"],[23,20,20,25],[23,23,20,28],[23,27,20,28,"create"],[23,35,20,34],[23,36,20,34,"create"],[23,42,20,34],[23,44,20,46],[23,45,20,47,"set"],[23,48,20,50],[23,50,20,52,"get"],[23,53,20,55],[23,59,20,61],[24,4,21,2,"user"],[24,8,21,6],[24,10,21,8],[24,14,21,12],[25,4,22,2,"token"],[25,9,22,7],[25,11,22,9],[25,15,22,13],[26,4,23,2,"isLoading"],[26,13,23,11],[26,15,23,13],[26,19,23,17],[27,4,24,2,"isAuthenticated"],[27,19,24,17],[27,21,24,19],[27,26,24,24],[28,4,26,2,"setUser"],[28,11,26,9],[28,13,26,12,"user"],[28,17,26,16],[28,21,26,21,"set"],[28,24,26,24],[28,25,26,25],[29,6,26,27,"user"],[29,10,26,31],[30,6,26,33,"isAuthenticated"],[30,21,26,48],[30,23,26,50],[30,24,26,51],[30,25,26,52,"user"],[31,4,26,57],[31,5,26,58],[31,6,26,59],[32,4,28,2,"setToken"],[32,12,28,10],[32,14,28,12],[32,20,28,19,"token"],[32,25,28,24],[32,29,28,29],[33,6,29,4],[33,10,29,8,"token"],[33,15,29,13],[33,17,29,15],[34,8,30,6],[34,14,30,12,"AsyncStorage"],[34,26,30,24],[34,27,30,24,"default"],[34,34,30,24],[34,35,30,25,"setItem"],[34,42,30,32],[34,43,30,33],[34,55,30,45],[34,57,30,47,"token"],[34,62,30,52],[34,63,30,53],[35,6,31,4],[35,7,31,5],[35,13,31,11],[36,8,32,6],[36,14,32,12,"AsyncStorage"],[36,26,32,24],[36,27,32,24,"default"],[36,34,32,24],[36,35,32,25,"removeItem"],[36,45,32,35],[36,46,32,36],[36,58,32,48],[36,59,32,49],[37,6,33,4],[38,6,34,4,"set"],[38,9,34,7],[38,10,34,8],[39,8,34,10,"token"],[40,6,34,16],[40,7,34,17],[40,8,34,18],[41,4,35,2],[41,5,35,3],[42,4,37,2,"login"],[42,9,37,7],[42,11,37,9],[42,17,37,9,"login"],[42,18,37,16,"email"],[42,23,37,21],[42,25,37,23,"password"],[42,33,37,31],[42,38,37,36],[43,6,38,4],[43,10,38,8],[44,8,39,6],[44,14,39,12,"response"],[44,22,39,20],[44,25,39,23],[44,31,39,29,"api"],[44,34,39,32],[44,35,39,32,"default"],[44,42,39,32],[44,43,39,33,"post"],[44,47,39,37],[44,48,39,38],[44,65,39,55],[44,67,39,57],[45,10,39,59,"email"],[45,15,39,64],[46,10,39,66,"password"],[47,8,39,75],[47,9,39,76],[47,10,39,77],[48,8,40,6],[48,14,40,12],[49,10,40,14,"user"],[49,14,40,18],[50,10,40,20,"token"],[51,8,40,26],[51,9,40,27],[51,12,40,30,"response"],[51,20,40,38],[51,21,40,39,"data"],[51,25,40,43],[52,8,42,6],[52,14,42,12,"get"],[52,17,42,15],[52,18,42,16],[52,19,42,17],[52,20,42,18,"setToken"],[52,28,42,26],[52,29,42,27,"token"],[52,34,42,32],[52,35,42,33],[53,8,43,6,"set"],[53,11,43,9],[53,12,43,10],[54,10,43,12,"user"],[54,14,43,16],[55,10,43,18,"isAuthenticated"],[55,25,43,33],[55,27,43,35],[56,8,43,40],[56,9,43,41],[56,10,43,42],[57,8,44,6],[57,14,44,12,"AsyncStorage"],[57,26,44,24],[57,27,44,24,"default"],[57,34,44,24],[57,35,44,25,"setItem"],[57,42,44,32],[57,43,44,33],[57,54,44,44],[57,56,44,46,"JSON"],[57,60,44,50],[57,61,44,51,"stringify"],[57,70,44,60],[57,71,44,61,"user"],[57,75,44,65],[57,76,44,66],[57,77,44,67],[58,6,45,4],[58,7,45,5],[58,8,45,6],[58,15,45,13,"error"],[58,20,45,23],[58,22,45,25],[59,8,46,6],[59,14,46,12],[59,18,46,16,"Error"],[59,23,46,21],[59,24,46,22,"error"],[59,29,46,27],[59,30,46,28,"response"],[59,38,46,36],[59,40,46,38,"data"],[59,44,46,42],[59,46,46,44,"detail"],[59,52,46,50],[59,56,46,54],[59,70,46,68],[59,71,46,69],[60,6,47,4],[61,4,48,2],[61,5,48,3],[62,4,50,2,"register"],[62,12,50,10],[62,14,50,12],[62,20,50,12,"register"],[62,21,50,19,"email"],[62,26,50,24],[62,28,50,26,"password"],[62,36,50,34],[62,38,50,36,"name"],[62,42,50,40],[62,47,50,45],[63,6,51,4],[63,10,51,8],[64,8,52,6],[64,14,52,12,"response"],[64,22,52,20],[64,25,52,23],[64,31,52,29,"api"],[64,34,52,32],[64,35,52,32,"default"],[64,42,52,32],[64,43,52,33,"post"],[64,47,52,37],[64,48,52,38],[64,68,52,58],[64,70,52,60],[65,10,52,62,"email"],[65,15,52,67],[66,10,52,69,"password"],[66,18,52,77],[67,10,52,79,"name"],[68,8,52,84],[68,9,52,85],[68,10,52,86],[69,8,53,6],[69,14,53,12],[70,10,53,14,"user"],[70,14,53,18],[71,10,53,20,"token"],[72,8,53,26],[72,9,53,27],[72,12,53,30,"response"],[72,20,53,38],[72,21,53,39,"data"],[72,25,53,43],[73,8,55,6],[73,14,55,12,"get"],[73,17,55,15],[73,18,55,16],[73,19,55,17],[73,20,55,18,"setToken"],[73,28,55,26],[73,29,55,27,"token"],[73,34,55,32],[73,35,55,33],[74,8,56,6,"set"],[74,11,56,9],[74,12,56,10],[75,10,56,12,"user"],[75,14,56,16],[76,10,56,18,"isAuthenticated"],[76,25,56,33],[76,27,56,35],[77,8,56,40],[77,9,56,41],[77,10,56,42],[78,8,57,6],[78,14,57,12,"AsyncStorage"],[78,26,57,24],[78,27,57,24,"default"],[78,34,57,24],[78,35,57,25,"setItem"],[78,42,57,32],[78,43,57,33],[78,54,57,44],[78,56,57,46,"JSON"],[78,60,57,50],[78,61,57,51,"stringify"],[78,70,57,60],[78,71,57,61,"user"],[78,75,57,65],[78,76,57,66],[78,77,57,67],[80,8,59,6],[81,8,60,6],[81,14,60,12],[82,10,60,14,"trackSignupComplete"],[83,8,60,34],[83,9,60,35],[83,12,60,38],[83,18,60,38,"require"],[83,25,60,38],[83,26,60,38,"_dependencyMap"],[83,40,60,38],[83,83,60,38,"_dependencyMap"],[83,97,60,38],[83,102,60,38,"_dependencyMap"],[83,116,60,38],[83,117,60,38,"paths"],[83,122,60,38],[83,145,60,72],[84,8,61,6,"trackSignupComplete"],[84,27,61,25],[84,28,61,26,"user"],[84,32,61,30],[84,33,61,31,"user_id"],[84,40,61,38],[84,41,61,39],[85,6,62,4],[85,7,62,5],[85,8,62,6],[85,15,62,13,"error"],[85,20,62,23],[85,22,62,25],[86,8,63,6],[86,14,63,12],[86,18,63,16,"Error"],[86,23,63,21],[86,24,63,22,"error"],[86,29,63,27],[86,30,63,28,"response"],[86,38,63,36],[86,40,63,38,"data"],[86,44,63,42],[86,46,63,44,"detail"],[86,52,63,50],[86,56,63,54],[86,77,63,75],[86,78,63,76],[87,6,64,4],[88,4,65,2],[88,5,65,3],[89,4,67,2,"logout"],[89,10,67,8],[89,12,67,10],[89,18,67,10,"logout"],[89,19,67,10],[89,24,67,22],[90,6,68,4],[90,10,68,8],[91,8,69,6],[91,14,69,12,"api"],[91,17,69,15],[91,18,69,15,"default"],[91,25,69,15],[91,26,69,16,"post"],[91,30,69,20],[91,31,69,21],[91,49,69,39],[91,50,69,40],[92,6,70,4],[92,7,70,5],[92,8,70,6],[92,15,70,13,"error"],[92,20,70,18],[92,22,70,20],[93,8,71,6,"console"],[93,15,71,13],[93,16,71,14,"error"],[93,21,71,19],[93,22,71,20],[93,37,71,35],[93,39,71,37,"error"],[93,44,71,42],[93,45,71,43],[94,6,72,4],[94,7,72,5],[94,16,72,14],[95,8,73,6],[95,14,73,12,"AsyncStorage"],[95,26,73,24],[95,27,73,24,"default"],[95,34,73,24],[95,35,73,25,"removeItem"],[95,45,73,35],[95,46,73,36],[95,58,73,48],[95,59,73,49],[96,8,74,6],[96,14,74,12,"AsyncStorage"],[96,26,74,24],[96,27,74,24,"default"],[96,34,74,24],[96,35,74,25,"removeItem"],[96,45,74,35],[96,46,74,36],[96,57,74,47],[96,58,74,48],[97,8,75,6,"set"],[97,11,75,9],[97,12,75,10],[98,10,75,12,"user"],[98,14,75,16],[98,16,75,18],[98,20,75,22],[99,10,75,24,"token"],[99,15,75,29],[99,17,75,31],[99,21,75,35],[100,10,75,37,"isAuthenticated"],[100,25,75,52],[100,27,75,54],[101,8,75,60],[101,9,75,61],[101,10,75,62],[102,6,76,4],[103,4,77,2],[103,5,77,3],[104,4,79,2,"loadUser"],[104,12,79,10],[104,14,79,12],[104,20,79,12,"loadUser"],[104,21,79,12],[104,26,79,24],[105,6,80,4],[105,10,80,8],[106,8,81,6,"set"],[106,11,81,9],[106,12,81,10],[107,10,81,12,"isLoading"],[107,19,81,21],[107,21,81,23],[108,8,81,28],[108,9,81,29],[108,10,81,30],[109,8,82,6],[109,14,82,12,"token"],[109,19,82,17],[109,22,82,20],[109,28,82,26,"AsyncStorage"],[109,40,82,38],[109,41,82,38,"default"],[109,48,82,38],[109,49,82,39,"getItem"],[109,56,82,46],[109,57,82,47],[109,69,82,59],[109,70,82,60],[110,8,83,6],[110,14,83,12,"userData"],[110,22,83,20],[110,25,83,23],[110,31,83,29,"AsyncStorage"],[110,43,83,41],[110,44,83,41,"default"],[110,51,83,41],[110,52,83,42,"getItem"],[110,59,83,49],[110,60,83,50],[110,71,83,61],[110,72,83,62],[111,8,85,6],[111,12,85,10,"token"],[111,17,85,15],[111,21,85,19,"userData"],[111,29,85,27],[111,31,85,29],[112,10,86,8,"set"],[112,13,86,11],[112,14,86,12],[113,12,86,14,"token"],[113,17,86,19],[114,12,86,21,"user"],[114,16,86,25],[114,18,86,27,"JSON"],[114,22,86,31],[114,23,86,32,"parse"],[114,28,86,37],[114,29,86,38,"userData"],[114,37,86,46],[114,38,86,47],[115,12,86,49,"isAuthenticated"],[115,27,86,64],[115,29,86,66],[116,10,86,71],[116,11,86,72],[116,12,86,73],[117,10,87,8],[118,10,88,8],[118,16,88,14,"get"],[118,19,88,17],[118,20,88,18],[118,21,88,19],[118,22,88,20,"refreshUser"],[118,33,88,31],[118,34,88,32],[118,35,88,33],[119,8,89,6],[120,6,90,4],[120,7,90,5],[120,8,90,6],[120,15,90,13,"error"],[120,20,90,18],[120,22,90,20],[121,8,91,6,"console"],[121,15,91,13],[121,16,91,14,"error"],[121,21,91,19],[121,22,91,20],[121,40,91,38],[121,42,91,40,"error"],[121,47,91,45],[121,48,91,46],[122,6,92,4],[122,7,92,5],[122,16,92,14],[123,8,93,6,"set"],[123,11,93,9],[123,12,93,10],[124,10,93,12,"isLoading"],[124,19,93,21],[124,21,93,23],[125,8,93,29],[125,9,93,30],[125,10,93,31],[126,6,94,4],[127,4,95,2],[127,5,95,3],[128,4,97,2,"refreshUser"],[128,15,97,13],[128,17,97,15],[128,23,97,15,"refreshUser"],[128,24,97,15],[128,29,97,27],[129,6,98,4],[129,10,98,8],[130,8,99,6],[130,14,99,12,"response"],[130,22,99,20],[130,25,99,23],[130,31,99,29,"api"],[130,34,99,32],[130,35,99,32,"default"],[130,42,99,32],[130,43,99,33,"get"],[130,46,99,36],[130,47,99,37],[130,61,99,51],[130,62,99,52],[131,8,100,6],[131,14,100,12,"user"],[131,18,100,16],[131,21,100,19,"response"],[131,29,100,27],[131,30,100,28,"data"],[131,34,100,32],[132,8,101,6,"set"],[132,11,101,9],[132,12,101,10],[133,10,101,12,"user"],[133,14,101,16],[134,10,101,18,"isAuthenticated"],[134,25,101,33],[134,27,101,35],[135,8,101,40],[135,9,101,41],[135,10,101,42],[136,8,102,6],[136,14,102,12,"AsyncStorage"],[136,26,102,24],[136,27,102,24,"default"],[136,34,102,24],[136,35,102,25,"setItem"],[136,42,102,32],[136,43,102,33],[136,54,102,44],[136,56,102,46,"JSON"],[136,60,102,50],[136,61,102,51,"stringify"],[136,70,102,60],[136,71,102,61,"user"],[136,75,102,65],[136,76,102,66],[136,77,102,67],[137,6,103,4],[137,7,103,5],[137,8,103,6],[137,15,103,13,"error"],[137,20,103,18],[137,22,103,20],[138,8,104,6,"console"],[138,15,104,13],[138,16,104,14,"error"],[138,21,104,19],[138,22,104,20],[138,43,104,41],[138,45,104,43,"error"],[138,50,104,48],[138,51,104,49],[139,8,105,6],[140,8,106,6],[140,14,106,12,"get"],[140,17,106,15],[140,18,106,16],[140,19,106,17],[140,20,106,18,"logout"],[140,26,106,24],[140,27,106,25],[140,28,106,26],[141,6,107,4],[142,4,108,2],[143,2,109,0],[143,3,109,1],[143,4,109,2],[143,5,109,3],[144,0,109,4],[144,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","setToken","login","register","logout","loadUser","refreshUser"],"mappings":"AAA;8CCmB;WCM,gDD;YEE;GFO;SGE;GHW;YIE;GJe;UKE;GLU;YME;GNgB;eOE;GPW;EDC"},"hasCjsExports":false},"type":"js/module"}]}