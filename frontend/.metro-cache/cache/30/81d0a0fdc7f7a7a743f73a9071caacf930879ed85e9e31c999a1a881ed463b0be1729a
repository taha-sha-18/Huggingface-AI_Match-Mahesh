{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":69,"index":96}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":97},"end":{"line":3,"column":39,"index":136}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"getApiConfig\", {\n    enumerable: true,\n    get: function () {\n      return getApiConfig;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoConstants = require(_dependencyMap[3], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[4], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  /**\n   * Get the backend URL for API requests\n   * Priority order:\n   * 1. Constants.expoConfig.extra.backendUrl (from app.config.js - works in production builds)\n   * 2. process.env.EXPO_PUBLIC_BACKEND_URL (works in Expo Go dev mode)\n   * 3. Hardcoded production fallback (last resort for built APKs)\n   */\n  const getBackendUrl = () => {\n    // Try expo config first (this is bundled into production builds)\n    const configUrl = Constants.default.expoConfig?.extra?.backendUrl;\n    if (configUrl) {\n      console.log('[API] Using backend URL from app.config.js:', configUrl);\n      return configUrl;\n    }\n\n    // Try environment variable (works in Expo Go)\n    const envUrl = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n    if (envUrl) {\n      console.log('[API] Using backend URL from env:', envUrl);\n      return envUrl;\n    }\n\n    // Production fallback - IMPORTANT: Update this for your deployment\n    const fallbackUrl = 'https://embed-match.preview.emergentagent.com';\n    console.log('[API] Using fallback backend URL:', fallbackUrl);\n    return fallbackUrl;\n  };\n  const BACKEND_URL = getBackendUrl();\n\n  // Log configuration for debugging\n  console.log('[API] Configuration:', {\n    backendUrl: BACKEND_URL,\n    platform: Platform.default.OS,\n    isExpoGo: Constants.default.appOwnership === 'expo',\n    expoConfig: Constants.default.expoConfig?.extra ? 'present' : 'missing'\n  });\n  const api = axios.default.create({\n    baseURL: BACKEND_URL,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Add auth token to requests\n  api.interceptors.request.use(async config => {\n    const token = await AsyncStorage.default.getItem('auth_token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    // Log outgoing requests in development\n    console.log(`[API] ${config.method?.toUpperCase()} ${config.baseURL}${config.url}`);\n    return config;\n  });\n\n  // Handle response errors\n  api.interceptors.response.use(response => {\n    console.log(`[API] Response ${response.status} from ${response.config.url}`);\n    return response;\n  }, async error => {\n    // Detailed error logging for debugging\n    console.error('[API] Request failed:', {\n      url: error.config?.url,\n      baseURL: error.config?.baseURL,\n      method: error.config?.method,\n      status: error.response?.status,\n      message: error.message,\n      code: error.code,\n      // Network error specifics\n      isNetworkError: !error.response,\n      isTimeout: error.code === 'ECONNABORTED'\n    });\n    if (error.response?.status === 401) {\n      // Clear auth data on 401\n      await AsyncStorage.default.removeItem('auth_token');\n      await AsyncStorage.default.removeItem('user_data');\n    }\n    return Promise.reject(error);\n  });\n\n  // Export backend URL for debugging purposes\n  const getApiConfig = () => ({\n    backendUrl: BACKEND_URL,\n    platform: Platform.default.OS,\n    isExpoGo: Constants.default.appOwnership === 'expo'\n  });\n  var _default = api;\n});","lineCount":120,"map":[[12,2,99,0,"Object"],[12,8,99,0],[12,9,99,0,"defineProperty"],[12,23,99,0],[12,24,99,0,"exports"],[12,31,99,0],[13,4,99,0,"enumerable"],[13,14,99,0],[14,4,99,0,"get"],[14,7,99,0],[14,18,99,0,"get"],[14,19,99,0],[15,6,99,0],[15,13,99,0,"_default"],[15,21,99,0],[16,4,99,0],[17,2,99,0],[18,2,93,0,"Object"],[18,8,93,0],[18,9,93,0,"defineProperty"],[18,23,93,0],[18,24,93,0,"exports"],[18,31,93,0],[19,4,93,0,"enumerable"],[19,14,93,0],[20,4,93,0,"get"],[20,7,93,0],[20,18,93,0,"get"],[20,19,93,0],[21,6,93,0],[21,13,93,0,"getApiConfig"],[21,25,93,0],[22,4,93,0],[23,2,93,0],[24,2,97,3],[24,6,97,3,"_expoVirtualEnv"],[24,21,97,3],[24,24,97,3,"require"],[24,31,97,3],[24,32,97,3,"_dependencyMap"],[24,46,97,3],[25,2,1,0],[25,6,1,0,"_axios"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,1,0],[26,6,1,0,"axios"],[26,11,1,0],[26,14,1,0,"_interopDefault"],[26,29,1,0],[26,30,1,0,"_axios"],[26,36,1,0],[27,2,2,0],[27,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,42,2,0],[27,45,2,0,"require"],[27,52,2,0],[27,53,2,0,"_dependencyMap"],[27,67,2,0],[28,2,2,0],[28,6,2,0,"AsyncStorage"],[28,18,2,0],[28,21,2,0,"_interopDefault"],[28,36,2,0],[28,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[28,73,2,0],[29,2,3,0],[29,6,3,0,"_expoConstants"],[29,20,3,0],[29,23,3,0,"require"],[29,30,3,0],[29,31,3,0,"_dependencyMap"],[29,45,3,0],[30,2,3,0],[30,6,3,0,"Constants"],[30,15,3,0],[30,18,3,0,"_interopDefault"],[30,33,3,0],[30,34,3,0,"_expoConstants"],[30,48,3,0],[31,2,3,39],[31,6,3,39,"_reactNativeWebDistExportsPlatform"],[31,40,3,39],[31,43,3,39,"require"],[31,50,3,39],[31,51,3,39,"_dependencyMap"],[31,65,3,39],[32,2,3,39],[32,6,3,39,"Platform"],[32,14,3,39],[32,17,3,39,"_interopDefault"],[32,32,3,39],[32,33,3,39,"_reactNativeWebDistExportsPlatform"],[32,67,3,39],[33,2,6,0],[34,0,7,0],[35,0,8,0],[36,0,9,0],[37,0,10,0],[38,0,11,0],[39,0,12,0],[40,2,13,0],[40,8,13,6,"getBackendUrl"],[40,21,13,19],[40,24,13,22,"getBackendUrl"],[40,25,13,22],[40,30,13,36],[41,4,14,2],[42,4,15,2],[42,10,15,8,"configUrl"],[42,19,15,17],[42,22,15,20,"Constants"],[42,31,15,29],[42,32,15,29,"default"],[42,39,15,29],[42,40,15,30,"expoConfig"],[42,50,15,40],[42,52,15,42,"extra"],[42,57,15,47],[42,59,15,49,"backendUrl"],[42,69,15,59],[43,4,16,2],[43,8,16,6,"configUrl"],[43,17,16,15],[43,19,16,17],[44,6,17,4,"console"],[44,13,17,11],[44,14,17,12,"log"],[44,17,17,15],[44,18,17,16],[44,63,17,61],[44,65,17,63,"configUrl"],[44,74,17,72],[44,75,17,73],[45,6,18,4],[45,13,18,11,"configUrl"],[45,22,18,20],[46,4,19,2],[48,4,21,2],[49,4,22,2],[49,10,22,8,"envUrl"],[49,16,22,14],[49,19,22,14,"_expoVirtualEnv"],[49,34,22,14],[49,35,22,14,"env"],[49,38,22,14],[49,39,22,14,"EXPO_PUBLIC_BACKEND_URL"],[49,62,22,52],[50,4,23,2],[50,8,23,6,"envUrl"],[50,14,23,12],[50,16,23,14],[51,6,24,4,"console"],[51,13,24,11],[51,14,24,12,"log"],[51,17,24,15],[51,18,24,16],[51,53,24,51],[51,55,24,53,"envUrl"],[51,61,24,59],[51,62,24,60],[52,6,25,4],[52,13,25,11,"envUrl"],[52,19,25,17],[53,4,26,2],[55,4,28,2],[56,4,29,2],[56,10,29,8,"fallbackUrl"],[56,21,29,19],[56,24,29,22],[56,71,29,69],[57,4,30,2,"console"],[57,11,30,9],[57,12,30,10,"log"],[57,15,30,13],[57,16,30,14],[57,51,30,49],[57,53,30,51,"fallbackUrl"],[57,64,30,62],[57,65,30,63],[58,4,31,2],[58,11,31,9,"fallbackUrl"],[58,22,31,20],[59,2,32,0],[59,3,32,1],[60,2,34,0],[60,8,34,6,"BACKEND_URL"],[60,19,34,17],[60,22,34,20,"getBackendUrl"],[60,35,34,33],[60,36,34,34],[60,37,34,35],[62,2,36,0],[63,2,37,0,"console"],[63,9,37,7],[63,10,37,8,"log"],[63,13,37,11],[63,14,37,12],[63,36,37,34],[63,38,37,36],[64,4,38,2,"backendUrl"],[64,14,38,12],[64,16,38,14,"BACKEND_URL"],[64,27,38,25],[65,4,39,2,"platform"],[65,12,39,10],[65,14,39,12,"Platform"],[65,22,39,20],[65,23,39,20,"default"],[65,30,39,20],[65,31,39,21,"OS"],[65,33,39,23],[66,4,40,2,"isExpoGo"],[66,12,40,10],[66,14,40,12,"Constants"],[66,23,40,21],[66,24,40,21,"default"],[66,31,40,21],[66,32,40,22,"appOwnership"],[66,44,40,34],[66,49,40,39],[66,55,40,45],[67,4,41,2,"expoConfig"],[67,14,41,12],[67,16,41,14,"Constants"],[67,25,41,23],[67,26,41,23,"default"],[67,33,41,23],[67,34,41,24,"expoConfig"],[67,44,41,34],[67,46,41,36,"extra"],[67,51,41,41],[67,54,41,44],[67,63,41,53],[67,66,41,56],[68,2,42,0],[68,3,42,1],[68,4,42,2],[69,2,44,0],[69,8,44,6,"api"],[69,11,44,9],[69,14,44,12,"axios"],[69,19,44,17],[69,20,44,17,"default"],[69,27,44,17],[69,28,44,18,"create"],[69,34,44,24],[69,35,44,25],[70,4,45,2,"baseURL"],[70,11,45,9],[70,13,45,11,"BACKEND_URL"],[70,24,45,22],[71,4,46,2,"timeout"],[71,11,46,9],[71,13,46,11],[71,18,46,16],[72,4,47,2,"headers"],[72,11,47,9],[72,13,47,11],[73,6,48,4],[73,20,48,18],[73,22,48,20],[74,4,49,2],[75,2,50,0],[75,3,50,1],[75,4,50,2],[77,2,52,0],[78,2,53,0,"api"],[78,5,53,3],[78,6,53,4,"interceptors"],[78,18,53,16],[78,19,53,17,"request"],[78,26,53,24],[78,27,53,25,"use"],[78,30,53,28],[78,31,53,29],[78,37,53,36,"config"],[78,43,53,42],[78,47,53,47],[79,4,54,2],[79,10,54,8,"token"],[79,15,54,13],[79,18,54,16],[79,24,54,22,"AsyncStorage"],[79,36,54,34],[79,37,54,34,"default"],[79,44,54,34],[79,45,54,35,"getItem"],[79,52,54,42],[79,53,54,43],[79,65,54,55],[79,66,54,56],[80,4,55,2],[80,8,55,6,"token"],[80,13,55,11],[80,15,55,13],[81,6,56,4,"config"],[81,12,56,10],[81,13,56,11,"headers"],[81,20,56,18],[81,21,56,19,"Authorization"],[81,34,56,32],[81,37,56,35],[81,47,56,45,"token"],[81,52,56,50],[81,54,56,52],[82,4,57,2],[83,4,58,2],[84,4,59,2,"console"],[84,11,59,9],[84,12,59,10,"log"],[84,15,59,13],[84,16,59,14],[84,25,59,23,"config"],[84,31,59,29],[84,32,59,30,"method"],[84,38,59,36],[84,40,59,38,"toUpperCase"],[84,51,59,49],[84,52,59,50],[84,53,59,51],[84,57,59,55,"config"],[84,63,59,61],[84,64,59,62,"baseURL"],[84,71,59,69],[84,74,59,72,"config"],[84,80,59,78],[84,81,59,79,"url"],[84,84,59,82],[84,86,59,84],[84,87,59,85],[85,4,60,2],[85,11,60,9,"config"],[85,17,60,15],[86,2,61,0],[86,3,61,1],[86,4,61,2],[88,2,63,0],[89,2,64,0,"api"],[89,5,64,3],[89,6,64,4,"interceptors"],[89,18,64,16],[89,19,64,17,"response"],[89,27,64,25],[89,28,64,26,"use"],[89,31,64,29],[89,32,65,3,"response"],[89,40,65,11],[89,44,65,16],[90,4,66,4,"console"],[90,11,66,11],[90,12,66,12,"log"],[90,15,66,15],[90,16,66,16],[90,34,66,34,"response"],[90,42,66,42],[90,43,66,43,"status"],[90,49,66,49],[90,58,66,58,"response"],[90,66,66,66],[90,67,66,67,"config"],[90,73,66,73],[90,74,66,74,"url"],[90,77,66,77],[90,79,66,79],[90,80,66,80],[91,4,67,4],[91,11,67,11,"response"],[91,19,67,19],[92,2,68,2],[92,3,68,3],[92,5,69,2],[92,11,69,9,"error"],[92,16,69,14],[92,20,69,19],[93,4,70,4],[94,4,71,4,"console"],[94,11,71,11],[94,12,71,12,"error"],[94,17,71,17],[94,18,71,18],[94,41,71,41],[94,43,71,43],[95,6,72,6,"url"],[95,9,72,9],[95,11,72,11,"error"],[95,16,72,16],[95,17,72,17,"config"],[95,23,72,23],[95,25,72,25,"url"],[95,28,72,28],[96,6,73,6,"baseURL"],[96,13,73,13],[96,15,73,15,"error"],[96,20,73,20],[96,21,73,21,"config"],[96,27,73,27],[96,29,73,29,"baseURL"],[96,36,73,36],[97,6,74,6,"method"],[97,12,74,12],[97,14,74,14,"error"],[97,19,74,19],[97,20,74,20,"config"],[97,26,74,26],[97,28,74,28,"method"],[97,34,74,34],[98,6,75,6,"status"],[98,12,75,12],[98,14,75,14,"error"],[98,19,75,19],[98,20,75,20,"response"],[98,28,75,28],[98,30,75,30,"status"],[98,36,75,36],[99,6,76,6,"message"],[99,13,76,13],[99,15,76,15,"error"],[99,20,76,20],[99,21,76,21,"message"],[99,28,76,28],[100,6,77,6,"code"],[100,10,77,10],[100,12,77,12,"error"],[100,17,77,17],[100,18,77,18,"code"],[100,22,77,22],[101,6,78,6],[102,6,79,6,"isNetworkError"],[102,20,79,20],[102,22,79,22],[102,23,79,23,"error"],[102,28,79,28],[102,29,79,29,"response"],[102,37,79,37],[103,6,80,6,"isTimeout"],[103,15,80,15],[103,17,80,17,"error"],[103,22,80,22],[103,23,80,23,"code"],[103,27,80,27],[103,32,80,32],[104,4,81,4],[104,5,81,5],[104,6,81,6],[105,4,83,4],[105,8,83,8,"error"],[105,13,83,13],[105,14,83,14,"response"],[105,22,83,22],[105,24,83,24,"status"],[105,30,83,30],[105,35,83,35],[105,38,83,38],[105,40,83,40],[106,6,84,6],[107,6,85,6],[107,12,85,12,"AsyncStorage"],[107,24,85,24],[107,25,85,24,"default"],[107,32,85,24],[107,33,85,25,"removeItem"],[107,43,85,35],[107,44,85,36],[107,56,85,48],[107,57,85,49],[108,6,86,6],[108,12,86,12,"AsyncStorage"],[108,24,86,24],[108,25,86,24,"default"],[108,32,86,24],[108,33,86,25,"removeItem"],[108,43,86,35],[108,44,86,36],[108,55,86,47],[108,56,86,48],[109,4,87,4],[110,4,88,4],[110,11,88,11,"Promise"],[110,18,88,18],[110,19,88,19,"reject"],[110,25,88,25],[110,26,88,26,"error"],[110,31,88,31],[110,32,88,32],[111,2,89,2],[111,3,90,0],[111,4,90,1],[113,2,92,0],[114,2,93,7],[114,8,93,13,"getApiConfig"],[114,20,93,25],[114,23,93,28,"getApiConfig"],[114,24,93,28],[114,30,93,35],[115,4,94,2,"backendUrl"],[115,14,94,12],[115,16,94,14,"BACKEND_URL"],[115,27,94,25],[116,4,95,2,"platform"],[116,12,95,10],[116,14,95,12,"Platform"],[116,22,95,20],[116,23,95,20,"default"],[116,30,95,20],[116,31,95,21,"OS"],[116,33,95,23],[117,4,96,2,"isExpoGo"],[117,12,96,10],[117,14,96,12,"Constants"],[117,23,96,21],[117,24,96,21,"default"],[117,31,96,21],[117,32,96,22,"appOwnership"],[117,44,96,34],[117,49,96,39],[118,2,97,0],[118,3,97,1],[118,4,97,2],[119,2,99,0],[119,6,99,0,"_default"],[119,14,99,0],[119,17,99,15,"api"],[119,20,99,18],[120,0,99,19],[120,3]],"functionMap":{"names":["<global>","getBackendUrl","interceptors.request.use$argument_0","interceptors.response.use$argument_0","interceptors.response.use$argument_1","getApiConfig"],"mappings":"AAA;sBCY;CDmB;6BEqB;CFQ;EGI;GHG;EIC;GJoB;4BKI;ELI"},"hasCjsExports":false},"type":"js/module"}]}