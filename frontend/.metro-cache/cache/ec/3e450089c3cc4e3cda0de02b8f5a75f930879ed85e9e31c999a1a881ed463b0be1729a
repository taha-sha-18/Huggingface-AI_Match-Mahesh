{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":69,"index":96}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":97},"end":{"line":3,"column":39,"index":136}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"getApiConfig\", {\n    enumerable: true,\n    get: function () {\n      return getApiConfig;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[3], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  /**\n   * Get the backend URL for API requests\n   * Priority order:\n   * 1. Constants.expoConfig.extra.backendUrl (from app.config.js - works in production builds)\n   * 2. process.env.EXPO_PUBLIC_BACKEND_URL (works in Expo Go dev mode)\n   * 3. Hardcoded production fallback (last resort for built APKs)\n   */\n  const getBackendUrl = () => {\n    // Try expo config first (this is bundled into production builds)\n    const configUrl = Constants.default.expoConfig?.extra?.backendUrl;\n    if (configUrl) {\n      console.log('[API] Using backend URL from app.config.js:', configUrl);\n      return configUrl;\n    }\n\n    // Try environment variable (works in Expo Go)\n    const envUrl = process.env.EXPO_PUBLIC_BACKEND_URL;\n    if (envUrl) {\n      console.log('[API] Using backend URL from env:', envUrl);\n      return envUrl;\n    }\n\n    // Production fallback - IMPORTANT: Update this for your deployment\n    const fallbackUrl = 'https://embed-match.preview.emergentagent.com';\n    console.log('[API] Using fallback backend URL:', fallbackUrl);\n    return fallbackUrl;\n  };\n  const BACKEND_URL = getBackendUrl();\n\n  // Log configuration for debugging\n  console.log('[API] Configuration:', {\n    backendUrl: BACKEND_URL,\n    platform: Platform.default.OS,\n    isExpoGo: Constants.default.appOwnership === 'expo',\n    expoConfig: Constants.default.expoConfig?.extra ? 'present' : 'missing'\n  });\n  const api = axios.default.create({\n    baseURL: BACKEND_URL,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Add auth token to requests\n  api.interceptors.request.use(async config => {\n    const token = await AsyncStorage.default.getItem('auth_token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    // Log outgoing requests in development\n    console.log(`[API] ${config.method?.toUpperCase()} ${config.baseURL}${config.url}`);\n    return config;\n  });\n\n  // Handle response errors\n  api.interceptors.response.use(response => {\n    console.log(`[API] Response ${response.status} from ${response.config.url}`);\n    return response;\n  }, async error => {\n    // Detailed error logging for debugging\n    console.error('[API] Request failed:', {\n      url: error.config?.url,\n      baseURL: error.config?.baseURL,\n      method: error.config?.method,\n      status: error.response?.status,\n      message: error.message,\n      code: error.code,\n      // Network error specifics\n      isNetworkError: !error.response,\n      isTimeout: error.code === 'ECONNABORTED'\n    });\n    if (error.response?.status === 401) {\n      // Clear auth data on 401\n      await AsyncStorage.default.removeItem('auth_token');\n      await AsyncStorage.default.removeItem('user_data');\n    }\n    return Promise.reject(error);\n  });\n\n  // Export backend URL for debugging purposes\n  const getApiConfig = () => ({\n    backendUrl: BACKEND_URL,\n    platform: Platform.default.OS,\n    isExpoGo: Constants.default.appOwnership === 'expo'\n  });\n  var _default = api;\n});","lineCount":119,"map":[[12,2,99,0,"Object"],[12,8,99,0],[12,9,99,0,"defineProperty"],[12,23,99,0],[12,24,99,0,"exports"],[12,31,99,0],[13,4,99,0,"enumerable"],[13,14,99,0],[14,4,99,0,"get"],[14,7,99,0],[14,18,99,0,"get"],[14,19,99,0],[15,6,99,0],[15,13,99,0,"_default"],[15,21,99,0],[16,4,99,0],[17,2,99,0],[18,2,93,0,"Object"],[18,8,93,0],[18,9,93,0,"defineProperty"],[18,23,93,0],[18,24,93,0,"exports"],[18,31,93,0],[19,4,93,0,"enumerable"],[19,14,93,0],[20,4,93,0,"get"],[20,7,93,0],[20,18,93,0,"get"],[20,19,93,0],[21,6,93,0],[21,13,93,0,"getApiConfig"],[21,25,93,0],[22,4,93,0],[23,2,93,0],[24,2,1,0],[24,6,1,0,"_axios"],[24,12,1,0],[24,15,1,0,"require"],[24,22,1,0],[24,23,1,0,"_dependencyMap"],[24,37,1,0],[25,2,1,0],[25,6,1,0,"axios"],[25,11,1,0],[25,14,1,0,"_interopDefault"],[25,29,1,0],[25,30,1,0,"_axios"],[25,36,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_expoConstants"],[28,20,3,0],[28,23,3,0,"require"],[28,30,3,0],[28,31,3,0,"_dependencyMap"],[28,45,3,0],[29,2,3,0],[29,6,3,0,"Constants"],[29,15,3,0],[29,18,3,0,"_interopDefault"],[29,33,3,0],[29,34,3,0,"_expoConstants"],[29,48,3,0],[30,2,3,39],[30,6,3,39,"_reactNativeWebDistExportsPlatform"],[30,40,3,39],[30,43,3,39,"require"],[30,50,3,39],[30,51,3,39,"_dependencyMap"],[30,65,3,39],[31,2,3,39],[31,6,3,39,"Platform"],[31,14,3,39],[31,17,3,39,"_interopDefault"],[31,32,3,39],[31,33,3,39,"_reactNativeWebDistExportsPlatform"],[31,67,3,39],[32,2,6,0],[33,0,7,0],[34,0,8,0],[35,0,9,0],[36,0,10,0],[37,0,11,0],[38,0,12,0],[39,2,13,0],[39,8,13,6,"getBackendUrl"],[39,21,13,19],[39,24,13,22,"getBackendUrl"],[39,25,13,22],[39,30,13,36],[40,4,14,2],[41,4,15,2],[41,10,15,8,"configUrl"],[41,19,15,17],[41,22,15,20,"Constants"],[41,31,15,29],[41,32,15,29,"default"],[41,39,15,29],[41,40,15,30,"expoConfig"],[41,50,15,40],[41,52,15,42,"extra"],[41,57,15,47],[41,59,15,49,"backendUrl"],[41,69,15,59],[42,4,16,2],[42,8,16,6,"configUrl"],[42,17,16,15],[42,19,16,17],[43,6,17,4,"console"],[43,13,17,11],[43,14,17,12,"log"],[43,17,17,15],[43,18,17,16],[43,63,17,61],[43,65,17,63,"configUrl"],[43,74,17,72],[43,75,17,73],[44,6,18,4],[44,13,18,11,"configUrl"],[44,22,18,20],[45,4,19,2],[47,4,21,2],[48,4,22,2],[48,10,22,8,"envUrl"],[48,16,22,14],[48,19,22,17,"process"],[48,26,22,24],[48,27,22,25,"env"],[48,30,22,28],[48,31,22,29,"EXPO_PUBLIC_BACKEND_URL"],[48,54,22,52],[49,4,23,2],[49,8,23,6,"envUrl"],[49,14,23,12],[49,16,23,14],[50,6,24,4,"console"],[50,13,24,11],[50,14,24,12,"log"],[50,17,24,15],[50,18,24,16],[50,53,24,51],[50,55,24,53,"envUrl"],[50,61,24,59],[50,62,24,60],[51,6,25,4],[51,13,25,11,"envUrl"],[51,19,25,17],[52,4,26,2],[54,4,28,2],[55,4,29,2],[55,10,29,8,"fallbackUrl"],[55,21,29,19],[55,24,29,22],[55,71,29,69],[56,4,30,2,"console"],[56,11,30,9],[56,12,30,10,"log"],[56,15,30,13],[56,16,30,14],[56,51,30,49],[56,53,30,51,"fallbackUrl"],[56,64,30,62],[56,65,30,63],[57,4,31,2],[57,11,31,9,"fallbackUrl"],[57,22,31,20],[58,2,32,0],[58,3,32,1],[59,2,34,0],[59,8,34,6,"BACKEND_URL"],[59,19,34,17],[59,22,34,20,"getBackendUrl"],[59,35,34,33],[59,36,34,34],[59,37,34,35],[61,2,36,0],[62,2,37,0,"console"],[62,9,37,7],[62,10,37,8,"log"],[62,13,37,11],[62,14,37,12],[62,36,37,34],[62,38,37,36],[63,4,38,2,"backendUrl"],[63,14,38,12],[63,16,38,14,"BACKEND_URL"],[63,27,38,25],[64,4,39,2,"platform"],[64,12,39,10],[64,14,39,12,"Platform"],[64,22,39,20],[64,23,39,20,"default"],[64,30,39,20],[64,31,39,21,"OS"],[64,33,39,23],[65,4,40,2,"isExpoGo"],[65,12,40,10],[65,14,40,12,"Constants"],[65,23,40,21],[65,24,40,21,"default"],[65,31,40,21],[65,32,40,22,"appOwnership"],[65,44,40,34],[65,49,40,39],[65,55,40,45],[66,4,41,2,"expoConfig"],[66,14,41,12],[66,16,41,14,"Constants"],[66,25,41,23],[66,26,41,23,"default"],[66,33,41,23],[66,34,41,24,"expoConfig"],[66,44,41,34],[66,46,41,36,"extra"],[66,51,41,41],[66,54,41,44],[66,63,41,53],[66,66,41,56],[67,2,42,0],[67,3,42,1],[67,4,42,2],[68,2,44,0],[68,8,44,6,"api"],[68,11,44,9],[68,14,44,12,"axios"],[68,19,44,17],[68,20,44,17,"default"],[68,27,44,17],[68,28,44,18,"create"],[68,34,44,24],[68,35,44,25],[69,4,45,2,"baseURL"],[69,11,45,9],[69,13,45,11,"BACKEND_URL"],[69,24,45,22],[70,4,46,2,"timeout"],[70,11,46,9],[70,13,46,11],[70,18,46,16],[71,4,47,2,"headers"],[71,11,47,9],[71,13,47,11],[72,6,48,4],[72,20,48,18],[72,22,48,20],[73,4,49,2],[74,2,50,0],[74,3,50,1],[74,4,50,2],[76,2,52,0],[77,2,53,0,"api"],[77,5,53,3],[77,6,53,4,"interceptors"],[77,18,53,16],[77,19,53,17,"request"],[77,26,53,24],[77,27,53,25,"use"],[77,30,53,28],[77,31,53,29],[77,37,53,36,"config"],[77,43,53,42],[77,47,53,47],[78,4,54,2],[78,10,54,8,"token"],[78,15,54,13],[78,18,54,16],[78,24,54,22,"AsyncStorage"],[78,36,54,34],[78,37,54,34,"default"],[78,44,54,34],[78,45,54,35,"getItem"],[78,52,54,42],[78,53,54,43],[78,65,54,55],[78,66,54,56],[79,4,55,2],[79,8,55,6,"token"],[79,13,55,11],[79,15,55,13],[80,6,56,4,"config"],[80,12,56,10],[80,13,56,11,"headers"],[80,20,56,18],[80,21,56,19,"Authorization"],[80,34,56,32],[80,37,56,35],[80,47,56,45,"token"],[80,52,56,50],[80,54,56,52],[81,4,57,2],[82,4,58,2],[83,4,59,2,"console"],[83,11,59,9],[83,12,59,10,"log"],[83,15,59,13],[83,16,59,14],[83,25,59,23,"config"],[83,31,59,29],[83,32,59,30,"method"],[83,38,59,36],[83,40,59,38,"toUpperCase"],[83,51,59,49],[83,52,59,50],[83,53,59,51],[83,57,59,55,"config"],[83,63,59,61],[83,64,59,62,"baseURL"],[83,71,59,69],[83,74,59,72,"config"],[83,80,59,78],[83,81,59,79,"url"],[83,84,59,82],[83,86,59,84],[83,87,59,85],[84,4,60,2],[84,11,60,9,"config"],[84,17,60,15],[85,2,61,0],[85,3,61,1],[85,4,61,2],[87,2,63,0],[88,2,64,0,"api"],[88,5,64,3],[88,6,64,4,"interceptors"],[88,18,64,16],[88,19,64,17,"response"],[88,27,64,25],[88,28,64,26,"use"],[88,31,64,29],[88,32,65,3,"response"],[88,40,65,11],[88,44,65,16],[89,4,66,4,"console"],[89,11,66,11],[89,12,66,12,"log"],[89,15,66,15],[89,16,66,16],[89,34,66,34,"response"],[89,42,66,42],[89,43,66,43,"status"],[89,49,66,49],[89,58,66,58,"response"],[89,66,66,66],[89,67,66,67,"config"],[89,73,66,73],[89,74,66,74,"url"],[89,77,66,77],[89,79,66,79],[89,80,66,80],[90,4,67,4],[90,11,67,11,"response"],[90,19,67,19],[91,2,68,2],[91,3,68,3],[91,5,69,2],[91,11,69,9,"error"],[91,16,69,14],[91,20,69,19],[92,4,70,4],[93,4,71,4,"console"],[93,11,71,11],[93,12,71,12,"error"],[93,17,71,17],[93,18,71,18],[93,41,71,41],[93,43,71,43],[94,6,72,6,"url"],[94,9,72,9],[94,11,72,11,"error"],[94,16,72,16],[94,17,72,17,"config"],[94,23,72,23],[94,25,72,25,"url"],[94,28,72,28],[95,6,73,6,"baseURL"],[95,13,73,13],[95,15,73,15,"error"],[95,20,73,20],[95,21,73,21,"config"],[95,27,73,27],[95,29,73,29,"baseURL"],[95,36,73,36],[96,6,74,6,"method"],[96,12,74,12],[96,14,74,14,"error"],[96,19,74,19],[96,20,74,20,"config"],[96,26,74,26],[96,28,74,28,"method"],[96,34,74,34],[97,6,75,6,"status"],[97,12,75,12],[97,14,75,14,"error"],[97,19,75,19],[97,20,75,20,"response"],[97,28,75,28],[97,30,75,30,"status"],[97,36,75,36],[98,6,76,6,"message"],[98,13,76,13],[98,15,76,15,"error"],[98,20,76,20],[98,21,76,21,"message"],[98,28,76,28],[99,6,77,6,"code"],[99,10,77,10],[99,12,77,12,"error"],[99,17,77,17],[99,18,77,18,"code"],[99,22,77,22],[100,6,78,6],[101,6,79,6,"isNetworkError"],[101,20,79,20],[101,22,79,22],[101,23,79,23,"error"],[101,28,79,28],[101,29,79,29,"response"],[101,37,79,37],[102,6,80,6,"isTimeout"],[102,15,80,15],[102,17,80,17,"error"],[102,22,80,22],[102,23,80,23,"code"],[102,27,80,27],[102,32,80,32],[103,4,81,4],[103,5,81,5],[103,6,81,6],[104,4,83,4],[104,8,83,8,"error"],[104,13,83,13],[104,14,83,14,"response"],[104,22,83,22],[104,24,83,24,"status"],[104,30,83,30],[104,35,83,35],[104,38,83,38],[104,40,83,40],[105,6,84,6],[106,6,85,6],[106,12,85,12,"AsyncStorage"],[106,24,85,24],[106,25,85,24,"default"],[106,32,85,24],[106,33,85,25,"removeItem"],[106,43,85,35],[106,44,85,36],[106,56,85,48],[106,57,85,49],[107,6,86,6],[107,12,86,12,"AsyncStorage"],[107,24,86,24],[107,25,86,24,"default"],[107,32,86,24],[107,33,86,25,"removeItem"],[107,43,86,35],[107,44,86,36],[107,55,86,47],[107,56,86,48],[108,4,87,4],[109,4,88,4],[109,11,88,11,"Promise"],[109,18,88,18],[109,19,88,19,"reject"],[109,25,88,25],[109,26,88,26,"error"],[109,31,88,31],[109,32,88,32],[110,2,89,2],[110,3,90,0],[110,4,90,1],[112,2,92,0],[113,2,93,7],[113,8,93,13,"getApiConfig"],[113,20,93,25],[113,23,93,28,"getApiConfig"],[113,24,93,28],[113,30,93,35],[114,4,94,2,"backendUrl"],[114,14,94,12],[114,16,94,14,"BACKEND_URL"],[114,27,94,25],[115,4,95,2,"platform"],[115,12,95,10],[115,14,95,12,"Platform"],[115,22,95,20],[115,23,95,20,"default"],[115,30,95,20],[115,31,95,21,"OS"],[115,33,95,23],[116,4,96,2,"isExpoGo"],[116,12,96,10],[116,14,96,12,"Constants"],[116,23,96,21],[116,24,96,21,"default"],[116,31,96,21],[116,32,96,22,"appOwnership"],[116,44,96,34],[116,49,96,39],[117,2,97,0],[117,3,97,1],[117,4,97,2],[118,2,99,0],[118,6,99,0,"_default"],[118,14,99,0],[118,17,99,15,"api"],[118,20,99,18],[119,0,99,19],[119,3]],"functionMap":{"names":["<global>","getBackendUrl","interceptors.request.use$argument_0","interceptors.response.use$argument_0","interceptors.response.use$argument_1","getApiConfig"],"mappings":"AAA;sBCY;CDmB;6BEqB;CFQ;EGI;GHG;EIC;GJoB;4BKI;ELI"},"hasCjsExports":false},"type":"js/module"}]}