{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":88},"end":{"line":3,"column":31,"index":119}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useCommunityStore\", {\n    enumerable: true,\n    get: function () {\n      return useCommunityStore;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var useCommunityStore = (0, _zustand.create)((set, get) => ({\n    communities: [],\n    matches: [],\n    myCommunities: [],\n    isLoading: false,\n    fetchCommunities: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        try {\n          set({\n            isLoading: true\n          });\n          var response = yield api.default.get('/api/communities');\n          set({\n            communities: response.data\n          });\n        } catch (error) {\n          console.error('Fetch communities error:', error);\n        } finally {\n          set({\n            isLoading: false\n          });\n        }\n      });\n      return function fetchCommunities() {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    fetchMatches: function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          set({\n            isLoading: true\n          });\n          var response = yield api.default.get('/api/matches');\n          set({\n            matches: response.data\n          });\n        } catch (error) {\n          console.error('Fetch matches error:', error);\n          if (error.response?.status === 400) {\n            // User hasn't completed game yet\n            set({\n              matches: []\n            });\n          }\n        } finally {\n          set({\n            isLoading: false\n          });\n        }\n      });\n      return function fetchMatches() {\n        return _ref2.apply(this, arguments);\n      };\n    }(),\n    fetchMyCommunities: function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var response = yield api.default.get('/api/communities/my/joined');\n          set({\n            myCommunities: response.data\n          });\n        } catch (error) {\n          console.error('Fetch my communities error:', error);\n        }\n      });\n      return function fetchMyCommunities() {\n        return _ref3.apply(this, arguments);\n      };\n    }(),\n    joinCommunity: function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* (communityId) {\n        try {\n          yield api.default.post(`/api/communities/${communityId}/join`);\n          yield get().fetchMyCommunities();\n          yield get().fetchMatches();\n        } catch (error) {\n          console.error('Join community error:', error);\n          throw error;\n        }\n      });\n      return function joinCommunity(_x) {\n        return _ref4.apply(this, arguments);\n      };\n    }(),\n    leaveCommunity: function () {\n      var _ref5 = (0, _asyncToGenerator.default)(function* (communityId) {\n        try {\n          yield api.default.post(`/api/communities/${communityId}/leave`);\n          yield get().fetchMyCommunities();\n        } catch (error) {\n          console.error('Leave community error:', error);\n          throw error;\n        }\n      });\n      return function leaveCommunity(_x2) {\n        return _ref5.apply(this, arguments);\n      };\n    }(),\n    skipCommunity: function () {\n      var _ref6 = (0, _asyncToGenerator.default)(function* (communityId) {\n        try {\n          yield api.default.post(`/api/communities/${communityId}/skip`);\n          // Remove from matches\n          var matches = get().matches.filter(m => m.community_id !== communityId);\n          set({\n            matches\n          });\n        } catch (error) {\n          console.error('Skip community error:', error);\n        }\n      });\n      return function skipCommunity(_x3) {\n        return _ref6.apply(this, arguments);\n      };\n    }(),\n    createCommunity: function () {\n      var _ref7 = (0, _asyncToGenerator.default)(function* (data) {\n        try {\n          yield api.default.post('/api/communities', data);\n          yield get().fetchCommunities();\n          yield get().fetchMyCommunities();\n        } catch (error) {\n          console.error('Create community error:', error);\n          throw error;\n        }\n      });\n      return function createCommunity(_x4) {\n        return _ref7.apply(this, arguments);\n      };\n    }()\n  }));\n});","lineCount":155,"map":[[12,2,19,0,"Object"],[12,8,19,0],[12,9,19,0,"defineProperty"],[12,23,19,0],[12,24,19,0,"exports"],[12,31,19,0],[13,4,19,0,"enumerable"],[13,14,19,0],[14,4,19,0,"get"],[14,7,19,0],[14,18,19,0,"get"],[14,19,19,0],[15,6,19,0],[15,13,19,0,"useCommunityStore"],[15,30,19,0],[16,4,19,0],[17,2,19,0],[18,2,104,4],[18,6,104,4,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,104,4],[18,45,104,4,"require"],[18,52,104,4],[18,53,104,4,"_dependencyMap"],[18,67,104,4],[19,2,104,4],[19,6,104,4,"_asyncToGenerator"],[19,23,104,4],[19,26,104,4,"_interopDefault"],[19,41,104,4],[19,42,104,4,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,104,4],[20,2,1,0],[20,6,1,0,"_zustand"],[20,14,1,0],[20,17,1,0,"require"],[20,24,1,0],[20,25,1,0,"_dependencyMap"],[20,39,1,0],[21,2,3,0],[21,6,3,0,"_utilsApi"],[21,15,3,0],[21,18,3,0,"require"],[21,25,3,0],[21,26,3,0,"_dependencyMap"],[21,40,3,0],[22,2,3,0],[22,6,3,0,"api"],[22,9,3,0],[22,12,3,0,"_interopDefault"],[22,27,3,0],[22,28,3,0,"_utilsApi"],[22,37,3,0],[23,2,19,7],[23,6,19,13,"useCommunityStore"],[23,23,19,30],[23,26,19,33],[23,30,19,33,"create"],[23,38,19,39],[23,39,19,39,"create"],[23,45,19,39],[23,47,19,56],[23,48,19,57,"set"],[23,51,19,60],[23,53,19,62,"get"],[23,56,19,65],[23,62,19,71],[24,4,20,2,"communities"],[24,15,20,13],[24,17,20,15],[24,19,20,17],[25,4,21,2,"matches"],[25,11,21,9],[25,13,21,11],[25,15,21,13],[26,4,22,2,"myCommunities"],[26,17,22,15],[26,19,22,17],[26,21,22,19],[27,4,23,2,"isLoading"],[27,13,23,11],[27,15,23,13],[27,20,23,18],[28,4,25,2,"fetchCommunities"],[28,20,25,18],[29,6,25,18],[29,10,25,18,"_ref"],[29,14,25,18],[29,21,25,18,"_asyncToGenerator"],[29,38,25,18],[29,39,25,18,"default"],[29,46,25,18],[29,48,25,20],[29,61,25,32],[30,8,26,4],[30,12,26,8],[31,10,27,6,"set"],[31,13,27,9],[31,14,27,10],[32,12,27,12,"isLoading"],[32,21,27,21],[32,23,27,23],[33,10,27,28],[33,11,27,29],[33,12,27,30],[34,10,28,6],[34,14,28,12,"response"],[34,22,28,20],[34,31,28,29,"api"],[34,34,28,32],[34,35,28,32,"default"],[34,42,28,32],[34,43,28,33,"get"],[34,46,28,36],[34,47,28,37],[34,65,28,55],[34,66,28,56],[35,10,29,6,"set"],[35,13,29,9],[35,14,29,10],[36,12,29,12,"communities"],[36,23,29,23],[36,25,29,25,"response"],[36,33,29,33],[36,34,29,34,"data"],[37,10,29,39],[37,11,29,40],[37,12,29,41],[38,8,30,4],[38,9,30,5],[38,10,30,6],[38,17,30,13,"error"],[38,22,30,18],[38,24,30,20],[39,10,31,6,"console"],[39,17,31,13],[39,18,31,14,"error"],[39,23,31,19],[39,24,31,20],[39,50,31,46],[39,52,31,48,"error"],[39,57,31,53],[39,58,31,54],[40,8,32,4],[40,9,32,5],[40,18,32,14],[41,10,33,6,"set"],[41,13,33,9],[41,14,33,10],[42,12,33,12,"isLoading"],[42,21,33,21],[42,23,33,23],[43,10,33,29],[43,11,33,30],[43,12,33,31],[44,8,34,4],[45,6,35,2],[45,7,35,3],[46,6,35,3],[46,22,25,2,"fetchCommunities"],[46,38,25,18,"fetchCommunities"],[46,39,25,18],[47,8,25,18],[47,15,25,18,"_ref"],[47,19,25,18],[47,20,25,18,"apply"],[47,25,25,18],[47,32,25,18,"arguments"],[47,41,25,18],[48,6,25,18],[49,4,25,18],[49,7,35,3],[50,4,37,2,"fetchMatches"],[50,16,37,14],[51,6,37,14],[51,10,37,14,"_ref2"],[51,15,37,14],[51,22,37,14,"_asyncToGenerator"],[51,39,37,14],[51,40,37,14,"default"],[51,47,37,14],[51,49,37,16],[51,62,37,28],[52,8,38,4],[52,12,38,8],[53,10,39,6,"set"],[53,13,39,9],[53,14,39,10],[54,12,39,12,"isLoading"],[54,21,39,21],[54,23,39,23],[55,10,39,28],[55,11,39,29],[55,12,39,30],[56,10,40,6],[56,14,40,12,"response"],[56,22,40,20],[56,31,40,29,"api"],[56,34,40,32],[56,35,40,32,"default"],[56,42,40,32],[56,43,40,33,"get"],[56,46,40,36],[56,47,40,37],[56,61,40,51],[56,62,40,52],[57,10,41,6,"set"],[57,13,41,9],[57,14,41,10],[58,12,41,12,"matches"],[58,19,41,19],[58,21,41,21,"response"],[58,29,41,29],[58,30,41,30,"data"],[59,10,41,35],[59,11,41,36],[59,12,41,37],[60,8,42,4],[60,9,42,5],[60,10,42,6],[60,17,42,13,"error"],[60,22,42,23],[60,24,42,25],[61,10,43,6,"console"],[61,17,43,13],[61,18,43,14,"error"],[61,23,43,19],[61,24,43,20],[61,46,43,42],[61,48,43,44,"error"],[61,53,43,49],[61,54,43,50],[62,10,44,6],[62,14,44,10,"error"],[62,19,44,15],[62,20,44,16,"response"],[62,28,44,24],[62,30,44,26,"status"],[62,36,44,32],[62,41,44,37],[62,44,44,40],[62,46,44,42],[63,12,45,8],[64,12,46,8,"set"],[64,15,46,11],[64,16,46,12],[65,14,46,14,"matches"],[65,21,46,21],[65,23,46,23],[66,12,46,26],[66,13,46,27],[66,14,46,28],[67,10,47,6],[68,8,48,4],[68,9,48,5],[68,18,48,14],[69,10,49,6,"set"],[69,13,49,9],[69,14,49,10],[70,12,49,12,"isLoading"],[70,21,49,21],[70,23,49,23],[71,10,49,29],[71,11,49,30],[71,12,49,31],[72,8,50,4],[73,6,51,2],[73,7,51,3],[74,6,51,3],[74,22,37,2,"fetchMatches"],[74,34,37,14,"fetchMatches"],[74,35,37,14],[75,8,37,14],[75,15,37,14,"_ref2"],[75,20,37,14],[75,21,37,14,"apply"],[75,26,37,14],[75,33,37,14,"arguments"],[75,42,37,14],[76,6,37,14],[77,4,37,14],[77,7,51,3],[78,4,53,2,"fetchMyCommunities"],[78,22,53,20],[79,6,53,20],[79,10,53,20,"_ref3"],[79,15,53,20],[79,22,53,20,"_asyncToGenerator"],[79,39,53,20],[79,40,53,20,"default"],[79,47,53,20],[79,49,53,22],[79,62,53,34],[80,8,54,4],[80,12,54,8],[81,10,55,6],[81,14,55,12,"response"],[81,22,55,20],[81,31,55,29,"api"],[81,34,55,32],[81,35,55,32,"default"],[81,42,55,32],[81,43,55,33,"get"],[81,46,55,36],[81,47,55,37],[81,75,55,65],[81,76,55,66],[82,10,56,6,"set"],[82,13,56,9],[82,14,56,10],[83,12,56,12,"myCommunities"],[83,25,56,25],[83,27,56,27,"response"],[83,35,56,35],[83,36,56,36,"data"],[84,10,56,41],[84,11,56,42],[84,12,56,43],[85,8,57,4],[85,9,57,5],[85,10,57,6],[85,17,57,13,"error"],[85,22,57,18],[85,24,57,20],[86,10,58,6,"console"],[86,17,58,13],[86,18,58,14,"error"],[86,23,58,19],[86,24,58,20],[86,53,58,49],[86,55,58,51,"error"],[86,60,58,56],[86,61,58,57],[87,8,59,4],[88,6,60,2],[88,7,60,3],[89,6,60,3],[89,22,53,2,"fetchMyCommunities"],[89,40,53,20,"fetchMyCommunities"],[89,41,53,20],[90,8,53,20],[90,15,53,20,"_ref3"],[90,20,53,20],[90,21,53,20,"apply"],[90,26,53,20],[90,33,53,20,"arguments"],[90,42,53,20],[91,6,53,20],[92,4,53,20],[92,7,60,3],[93,4,62,2,"joinCommunity"],[93,17,62,15],[94,6,62,15],[94,10,62,15,"_ref4"],[94,15,62,15],[94,22,62,15,"_asyncToGenerator"],[94,39,62,15],[94,40,62,15,"default"],[94,47,62,15],[94,49,62,17],[94,60,62,24,"communityId"],[94,71,62,43],[94,73,62,48],[95,8,63,4],[95,12,63,8],[96,10,64,6],[96,16,64,12,"api"],[96,19,64,15],[96,20,64,15,"default"],[96,27,64,15],[96,28,64,16,"post"],[96,32,64,20],[96,33,64,21],[96,53,64,41,"communityId"],[96,64,64,52],[96,71,64,59],[96,72,64,60],[97,10,65,6],[97,16,65,12,"get"],[97,19,65,15],[97,20,65,16],[97,21,65,17],[97,22,65,18,"fetchMyCommunities"],[97,40,65,36],[97,41,65,37],[97,42,65,38],[98,10,66,6],[98,16,66,12,"get"],[98,19,66,15],[98,20,66,16],[98,21,66,17],[98,22,66,18,"fetchMatches"],[98,34,66,30],[98,35,66,31],[98,36,66,32],[99,8,67,4],[99,9,67,5],[99,10,67,6],[99,17,67,13,"error"],[99,22,67,18],[99,24,67,20],[100,10,68,6,"console"],[100,17,68,13],[100,18,68,14,"error"],[100,23,68,19],[100,24,68,20],[100,47,68,43],[100,49,68,45,"error"],[100,54,68,50],[100,55,68,51],[101,10,69,6],[101,16,69,12,"error"],[101,21,69,17],[102,8,70,4],[103,6,71,2],[103,7,71,3],[104,6,71,3],[104,22,62,2,"joinCommunity"],[104,35,62,15,"joinCommunity"],[104,36,62,15,"_x"],[104,38,62,15],[105,8,62,15],[105,15,62,15,"_ref4"],[105,20,62,15],[105,21,62,15,"apply"],[105,26,62,15],[105,33,62,15,"arguments"],[105,42,62,15],[106,6,62,15],[107,4,62,15],[107,7,71,3],[108,4,73,2,"leaveCommunity"],[108,18,73,16],[109,6,73,16],[109,10,73,16,"_ref5"],[109,15,73,16],[109,22,73,16,"_asyncToGenerator"],[109,39,73,16],[109,40,73,16,"default"],[109,47,73,16],[109,49,73,18],[109,60,73,25,"communityId"],[109,71,73,44],[109,73,73,49],[110,8,74,4],[110,12,74,8],[111,10,75,6],[111,16,75,12,"api"],[111,19,75,15],[111,20,75,15,"default"],[111,27,75,15],[111,28,75,16,"post"],[111,32,75,20],[111,33,75,21],[111,53,75,41,"communityId"],[111,64,75,52],[111,72,75,60],[111,73,75,61],[112,10,76,6],[112,16,76,12,"get"],[112,19,76,15],[112,20,76,16],[112,21,76,17],[112,22,76,18,"fetchMyCommunities"],[112,40,76,36],[112,41,76,37],[112,42,76,38],[113,8,77,4],[113,9,77,5],[113,10,77,6],[113,17,77,13,"error"],[113,22,77,18],[113,24,77,20],[114,10,78,6,"console"],[114,17,78,13],[114,18,78,14,"error"],[114,23,78,19],[114,24,78,20],[114,48,78,44],[114,50,78,46,"error"],[114,55,78,51],[114,56,78,52],[115,10,79,6],[115,16,79,12,"error"],[115,21,79,17],[116,8,80,4],[117,6,81,2],[117,7,81,3],[118,6,81,3],[118,22,73,2,"leaveCommunity"],[118,36,73,16,"leaveCommunity"],[118,37,73,16,"_x2"],[118,40,73,16],[119,8,73,16],[119,15,73,16,"_ref5"],[119,20,73,16],[119,21,73,16,"apply"],[119,26,73,16],[119,33,73,16,"arguments"],[119,42,73,16],[120,6,73,16],[121,4,73,16],[121,7,81,3],[122,4,83,2,"skipCommunity"],[122,17,83,15],[123,6,83,15],[123,10,83,15,"_ref6"],[123,15,83,15],[123,22,83,15,"_asyncToGenerator"],[123,39,83,15],[123,40,83,15,"default"],[123,47,83,15],[123,49,83,17],[123,60,83,24,"communityId"],[123,71,83,43],[123,73,83,48],[124,8,84,4],[124,12,84,8],[125,10,85,6],[125,16,85,12,"api"],[125,19,85,15],[125,20,85,15,"default"],[125,27,85,15],[125,28,85,16,"post"],[125,32,85,20],[125,33,85,21],[125,53,85,41,"communityId"],[125,64,85,52],[125,71,85,59],[125,72,85,60],[126,10,86,6],[127,10,87,6],[127,14,87,12,"matches"],[127,21,87,19],[127,24,87,22,"get"],[127,27,87,25],[127,28,87,26],[127,29,87,27],[127,30,87,28,"matches"],[127,37,87,35],[127,38,87,36,"filter"],[127,44,87,42],[127,45,87,43,"m"],[127,46,87,44],[127,50,87,48,"m"],[127,51,87,49],[127,52,87,50,"community_id"],[127,64,87,62],[127,69,87,67,"communityId"],[127,80,87,78],[127,81,87,79],[128,10,88,6,"set"],[128,13,88,9],[128,14,88,10],[129,12,88,12,"matches"],[130,10,88,20],[130,11,88,21],[130,12,88,22],[131,8,89,4],[131,9,89,5],[131,10,89,6],[131,17,89,13,"error"],[131,22,89,18],[131,24,89,20],[132,10,90,6,"console"],[132,17,90,13],[132,18,90,14,"error"],[132,23,90,19],[132,24,90,20],[132,47,90,43],[132,49,90,45,"error"],[132,54,90,50],[132,55,90,51],[133,8,91,4],[134,6,92,2],[134,7,92,3],[135,6,92,3],[135,22,83,2,"skipCommunity"],[135,35,83,15,"skipCommunity"],[135,36,83,15,"_x3"],[135,39,83,15],[136,8,83,15],[136,15,83,15,"_ref6"],[136,20,83,15],[136,21,83,15,"apply"],[136,26,83,15],[136,33,83,15,"arguments"],[136,42,83,15],[137,6,83,15],[138,4,83,15],[138,7,92,3],[139,4,94,2,"createCommunity"],[139,19,94,17],[140,6,94,17],[140,10,94,17,"_ref7"],[140,15,94,17],[140,22,94,17,"_asyncToGenerator"],[140,39,94,17],[140,40,94,17,"default"],[140,47,94,17],[140,49,94,19],[140,60,94,26,"data"],[140,64,94,35],[140,66,94,40],[141,8,95,4],[141,12,95,8],[142,10,96,6],[142,16,96,12,"api"],[142,19,96,15],[142,20,96,15,"default"],[142,27,96,15],[142,28,96,16,"post"],[142,32,96,20],[142,33,96,21],[142,51,96,39],[142,53,96,41,"data"],[142,57,96,45],[142,58,96,46],[143,10,97,6],[143,16,97,12,"get"],[143,19,97,15],[143,20,97,16],[143,21,97,17],[143,22,97,18,"fetchCommunities"],[143,38,97,34],[143,39,97,35],[143,40,97,36],[144,10,98,6],[144,16,98,12,"get"],[144,19,98,15],[144,20,98,16],[144,21,98,17],[144,22,98,18,"fetchMyCommunities"],[144,40,98,36],[144,41,98,37],[144,42,98,38],[145,8,99,4],[145,9,99,5],[145,10,99,6],[145,17,99,13,"error"],[145,22,99,18],[145,24,99,20],[146,10,100,6,"console"],[146,17,100,13],[146,18,100,14,"error"],[146,23,100,19],[146,24,100,20],[146,49,100,45],[146,51,100,47,"error"],[146,56,100,52],[146,57,100,53],[147,10,101,6],[147,16,101,12,"error"],[147,21,101,17],[148,8,102,4],[149,6,103,2],[149,7,103,3],[150,6,103,3],[150,22,94,2,"createCommunity"],[150,37,94,17,"createCommunity"],[150,38,94,17,"_x4"],[150,41,94,17],[151,8,94,17],[151,15,94,17,"_ref7"],[151,20,94,17],[151,21,94,17,"apply"],[151,26,94,17],[151,33,94,17,"arguments"],[151,42,94,17],[152,6,94,17],[153,4,94,17],[154,2,104,0],[154,3,104,1],[154,4,104,2],[154,5,104,3],[155,0,104,4],[155,3]],"functionMap":{"names":["<global>","create$argument_0","fetchCommunities","fetchMatches","fetchMyCommunities","joinCommunity","leaveCommunity","skipCommunity","get.matches.filter$argument_0","createCommunity"],"mappings":"AAA;wDCkB;oBCM;GDU;gBEE;GFc;sBGE;GHO;iBIE;GJS;kBKE;GLQ;iBME;2CCI,mCD;GNK;mBQE;GRS;EDC"},"hasCjsExports":false},"type":"js/module"}]}